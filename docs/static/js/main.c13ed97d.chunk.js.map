{"version":3,"sources":["Components/Routes/SkinList/SkinList.module.less","Components/Routes/Home/Home.module.less","Components/Routes/QuestList/QuestList.module.less","logo.png","Components/Header/Header.module.less","Components/Routes/Home/pay.png","Components/MissileTable/MissileTable.module.less","Components/DotTable/DotTable.module.less","Components/Routes/Login/Login.module.less","Components/Routes/Unit/Unit.module.less","Components/Routes/Quest/Quest.module.less","context/UserContext.ts","context/MediaContext.ts","Components/Header/Header.tsx","Components/Card/Card.tsx","utils.ts","consts.ts","Components/Loading/Loading.tsx","Components/Routes/Home/Home.tsx","Components/Rarity/Rarity.tsx","Components/Routes/UnitList/UnitListCard.tsx","fragments.ts","Components/Routes/Unit/types.ts","Components/Gender/Gender.tsx","Components/SkillTable/SkillTable.tsx","Components/AbilityTable/AbilityTable.tsx","Components/MissileTable/MissileTable.tsx","Components/ClassTable/ClassTable.tsx","Components/DotAnimation/DotAnimation.tsx","Components/DotTable/DotTable.tsx","Components/Routes/Unit/ConneNameInput.tsx","Components/Routes/Unit/NickNamesInput.tsx","Components/Routes/Unit/UnitSpecialtyTable.tsx","Components/Routes/Unit/Unit.tsx","Components/Routes/UnitList/UnitList.tsx","Components/Routes/QuestList/types.ts","Components/Routes/QuestList/MissionShutter.tsx","Components/Routes/Quest/common.ts","Components/TalkRow.tsx","Components/Routes/Quest/EnemyTable.tsx","Components/Routes/Quest/PreviewDot.tsx","Components/Routes/Quest/MapTable.tsx","Components/Routes/Quest/QuestTermTable.tsx","Components/Routes/Quest/Quest.tsx","Components/Routes/QuestList/QuestList.tsx","Components/Routes/ClassList/ClassList.tsx","Components/Routes/SkillList/SkillList.tsx","Components/Routes/AbilityList/AbilityList.tsx","Components/Routes/EmojiList/index.tsx","Components/Routes/Login/Login.tsx","Components/Routes/MissileList/MissileList.tsx","Components/Routes/SkinList/SkinListItem.tsx","Components/Routes/Skin/types.ts","Components/Routes/Skin/Skin.tsx","Components/Routes/SkinList/SkinList.tsx","Components/Router.tsx","App.tsx","serviceWorker.ts","index.tsx","Components/Routes/Skin/Skin.module.less","Components/Routes/UnitList/UnitList.module.less","Components/ClassTable/ClassTable.module.less","Components/Routes/EmojiList/index.module.less","Components/SkillTable/SkillTable.module.less","Components/AbilityTable/AbilityTable.module.less"],"names":["module","exports","createContainer","state","setState","useState","localStorage","getItem","login","token","setItem","isTabletOrMobile","useMediaQuery","query","Header","_Layout","SubMenu","Item","_Menu","HeaderBar","active","setActive","location","useLocation","useEffect","pathname","split","React","createElement","className","styles","header","Link","to","alt","src","logo","mode","headerMenu","selectedKeys","key","title","ShadowedCard","Component","render","_Card","Object","assign","this","props","renderDescription","source","replace","range","min","max","length","res","gap","current","push","BASE_SERVER_URL","process","REACT_APP_SERVER","API_URL","STATIC_URL","PLAYER_DOT_URL","ENEMY_DOT_URL","BATTLE_TALK_EVENT_URL","EMOJI_URL","ICO_URL","BANNER_URL","PLAYER_STAND_CG_URL","PLAYER_HARLEM_CG_URL","MAP_IMAGE_URL","SKIN_ICO_URL","SKIN_CG_URL","SKIN_DOT_URL","ENEMY_CHANGE_COND","0","1","2","3","4","5","BONUS_TYPE","constructor","obj","get","index","toString","6","7","8","9","11","fuck","Loading","_ref","_objectDestructuringEmpty","_Spin","tip","concat","arr","Math","floor","random","size","style","marginTop","display","Content","Home","date","setDate","selectedDate","setSelectedDate","loading","data","useQuery","gql","_templateObject","_taggedTemplateLiteral","onCompleted","d","Posters","posterName","moment","slice","posterRef","useRef","posterLoading","setPosterLoading","bannerEnabled","setBannerEnabled","includes","format","BASE_GAME_URL","content","logoblock","topLogo","Card","UpdateTime","fromNow","_Row","gutter","_Col","xs","md","_Button","onClick","Banners","map","bannerName","maxWidth","_Calendar","value","onChange","fullscreen","monthFullCellRender","first","find","p","startsWith","classNames","calendarMonthDisabled","localeData","monthsShort","disabledDate","spinning","ref","onLoad","width","beg","_Popover","placement","trigger","payImage","type","role","aria-label","Rarity","rare","color","textShadow","UnitListCard","card","showUnit","setFilter","listCard","male","Number","parseInt","Kind","female","alignItems","CardID","height","Rare","Name","lg","RaceName","e","stopPropagation","_Tag","AssignName","IdentityName","name","i","GenusName","Classes","IllustName","DotFragment","MissileFragment","_templateObject2","EnemyFragment","_templateObject3","Gender","gender","SKILL_TYPE","Init","CC","Evo","SkillConfigTableRows","_data$SkillConfigMeta","_data$SkillConfigMeta2","config","setValue","Comment","setSkillConfigMeta","useMutation","_d$SkillConfigMeta","SkillConfigMeta","editing","setEditing","focus","handleSave","async","variables","TypeID","Data_InfluenceType","_message","success","configRowGroup","cover","colSpan","blank","_Input","target","onBlur","onPressEnter","fakeInput","small","Data_MulValue","Data_MulValue2","_HoldRatioUpperLimit","Data_MulValue3","Data_AddValue","Type_Collision","Type_CollisionState","Data_Target","_ExpressionActivate","_Expression","wordWrap","SkillTableRows","_ref2","skill","showConfigs","setShowConfigs","MediaContext","useContainer","secondRow","Fragment","LevelMax","ContTimeMax","WaitTime","PowerMax","icon","SkillID","SkillName","textAlign","dangerouslySetInnerHTML","__html","Text","table","tableLayout","Cards","sort","c1","c2","marginLeft","position","Configs","SkillTable","_ref3","skills","ABILITY_TYPE","AbilityConfigTableRows","_data$AbilityConfigMe","_data$AbilityConfigMe2","setAbilityConfigMeta","_d$AbilityConfigMeta","AbilityConfigMeta","_InfluenceType","_Param1","_Param2","_Param3","_Param4","_InvokeType","_TargetType","_Command","_ActivateCommand","AbilityTable","ability","Type","AbilityID","AbilityName","MissileTable","missile","compact","isCompact","Property","MissileID","PatternID","Enemy","Speed","SlowTime","SlowRate","DamageArea","CLASS_TYPE","Evo2a","Evo2b","ClassTable","classData","setClassMeta","NickNames","ClassID","Explanation","AttackWait","ClassAbilityPower1","_Select","tokenSeparators","v","AttackAttribute","Missile","ClassAbilityConfigs","DotAnimation","dot","urlBase","canvas","gif","top","bottom","left","right","canvasWidth","canvasHeight","tickNum","Length","timelines","dots","frameNum","entry","Entries","Sprites","timeline","patternPos","t","pattern","PatternNo","prevFrame","frame","Sprite","_objectSpread","X","Y","Width","Height","OriginX","OriginY","ParsedX","ParsedY","Alpha","Pos","Scale","Time","undefined","Data","alphaPos","prevAlpha","nextAlpha","alphas","posPos","prevPos","nextPos","posesX","posesY","scalePos","prevScale","nextScale","scalesX","scalesY","forEach","generateTimelines","imageObj","Image","crossOrigin","ctx","getContext","willReadFrequently","currentTick","GIF","workers","quality","workerScript","transparent","on","blob","url","URL","createObjectURL","a","document","href","download","click","frameId","gifStatus","imageLoop","window","requestAnimationFrame","clearRect","sprite","globalAlpha","drawImage","addFrame","copy","delay","console","error","cancelAnimationFrame","onload","cv","_Tooltip","_gif$current","DotTable","entryIndex","backgroundImage","backgroundPositionX","backgroundPositionY","ConneNameInput","ConneName","setCardMeta","setCardMetaLoading","NickNamesInput","UnitSpecialtyRows","_data$UnitConfigMeta","_data$UnitConfigMeta2","setUnitConfigMeta","_d$UnitConfigMeta","UnitConfigMeta","Type_Specialty","Value_Specialty","Value_Param1","Value_Param2","Value_Param3","Value_Param4","Command","UnitSpecialtyTable","configs","countMinMax","maxLevel","maxLevelUnit","mod","ceil","getStatus","BattleStyle","ranges","_Range_01","_Range_02","_Range_03","_Range_04","_Range_05","classes","_AwakePattern","findIndex","cl","splice","nearRange","_classData$Data_Extra","rarity","Data_ExtraAwakeOrbs","JobChange","MaxLevel","HP","InitHP","MaxHP","MaxHPMod","Atk","InitAtk","MaxAtk","AtkMod","Def","InitDef","MaxDef","DefMod","Cost","CostModValue","CostDecValue","AtkArea","classDataToUnit","Unit","match","useRouter","params","currentImg","setCurrentImg","currentText","setCurrentText","avatars","setAvatars","refetch","id","fetchPolicy","filter","_data$Card$ImageStand","ImageStand","container","_","isEmpty","_Icon","previewContainer","outerRadioContainer","inset","radioContainer","_Radio","Group","radioGroup","imgName","Button","danger","ImageCG","HarlemTextA","HarlemTextR","outerImageContainer","imageContainer","textContainer","fullScreen","ghost","shape","closeButton","text","p1","avatar","onError","HomeCooking","SellPrice","_TradePoint","MagicResistance","BonusType","BonusNum","BonusType2","BonusNum2","BonusType3","BonusNum3","st","rowSpan","BlockNum","Skills","skillWithType","uniqBy","Abilities","SpecialtyConfigs","Dots","sm","FILTER_TYPE","UnitList","sorter","setSorter","order","search","setSearch","filters","setFilters","setSize","scrolled","setScrolled","history","main","getElementsByTagName","handleResize","offsetWidth","offsetHeight","onresize","genSorter","cursor","getParam","keys","handleSetFilter","f","fs","cardID","modal","cards","flag","JSON","stringify","sourceValue","Array","isArray","cardSorter","cardA","cardB","paramA","paramB","unitListContent","placeholder","event","filterContainer","closable","onClose","sorterBlock","shadow","listContainer","List","itemCount","itemSize","onScroll","scrollOffset","String","_Drawer","visible","destroyOnClose","getContainer","UnitListWrapper","MISSION_TYPE","Assault","Story","Emergency","Reproduce","DailyReproduce","Subjugation","DevilAdvent","Harlem","Daily","Challenge","Tutorial","Tower","Raid","Colosseum","Empire","History","Training","MissionShutter","mission","showQuest","questID","MissionID","Mission","Quests","quest","QuestID","bind","float","Charisma","ActionPoint","getTreasureURI","treasure","TalkRow","talk","margin","FaceID","Message","EnemyConfigTableRows","_data$EnemyConfigMeta","_data$EnemyConfigMeta2","setEnemyConfigMeta","_d$EnemyConfigMeta","EnemyConfigMeta","Type_Influence","Param_1","Param_2","Param_3","Param_4","_ExtParam","EnemyTableRows","enemies","drops","routes","expand","setExpand","showTable","setShowTable","fill","routeNos","RouteNo","routeNo","route","RouteID","previewSprite","types","SkyFlag","EnemyElem","_EnemyElementName","EnemyType","_EnemyTypeName","_Attribute","join","changeCondition","Param_ChangeParam","Param_ChangeCondition","imgID","dropImg","PrizeCardID","fontSize","marginRight","_Divider","zoom","verticalAlign","getAttackSpeed","enemy","attackSpeed","ATTACK_RANGE","ATTACK_SPEED","DotRate","background","TypeAttack","MagicAttack","ATTACK_POWER","ARMOR_DEFENSE","MAGIC_DEFENSE","Param_ResistanceAssassin","paddingTop","paddingBottom","Loop","EnemyTable","Quest","Map","Enemies","entries","EntryNo","Routes","mapLevel","Level","showDuplicate","setShowDuplicate","showTalk","setShowTalk","Treasure1","Treasure2","Treasure3","Treasure4","Treasure5","parsedEnemies","parseEnemy","enemyID","arguments","EnemyID","enemyGroup","ea","newEnemy","_Switch","checkedChildren","unCheckedChildren","checked","QuestEventTexts","command","EntryCommand","exec","s","recordIndex","BattleTalkEvents","RecordIndex","PreviewDot","_enemy$Dots","MapTable","mapImg","useImage","MapName","heartImg","nearImg","farImg","setZoom","containerRef","circle","setCircle","setRouteNos","resize","overflow","Stage","scaleX","scaleY","Layer","image","Locations","LocationNo","img","ObjectID","x","y","c","onTap","onMouseEnter","body","onMouseLeave","Circle","radius","stroke","Arrow","points","strokeWidth","_InputNumber","Option","QuestConfigTableRows","_data$QuestConfigMeta","_data$QuestConfigMeta2","setQuestConfigMeta","_d$QuestConfigMeta","QuestConfigMeta","Data_Param1","Data_Param2","Data_Param3","Data_Param4","Data_Expression","borderBottom","QuestTermTable","terms","term","_data$Quest$Mission$B","showTerms","setShowTerms","showHardTerms","setShowHardTerms","showMissionTalks","setShowMissionTalks","dropper","enemiesCount","haveDrop","drop","reduce","prev","curr","questContainer","questTitle","questInfo","RankExp","Gold","Capacity","QuestTerms","padding","QuestTermConfigs","_HardCondition","HardInfomation","_HardLevel","QuestHardTermConfigs","EventArcs","arc","_TalkerName","_TalkText","Sider","Panel","_Collapse","QuestList","currentMissionType","setCurrentMissionType","missions","groupBy","Missions","theme","sider","onSelect","border","missionListContent","bordered","m","ClassList","currentPage","setCurrentPage","classFilter","unitClass","_Pagination","defaultCurrent","defaultPageSize","page","total","SkillList","skillFilter","handleSetSearch","AbilityList","abilityFilter","EmojiList","drawerVisible","currentEmoji","_id","emoji","group","modalVisible","currentImage","isImg","ext","indexOf","Query","span","emojis","deleteIconContainer","Mutation","mutation","removeEmoji","_Popconfirm","onConfirm","ID","then","deleteIcon","emojiDrawer","marginBottom","imageBox","imageCover","imageActionContainer","imageAction","removeEmojiItem","_Modal","onCancel","footer","Login","getFieldDecorator","validateFields","useForm","UserContext","_Form","loginForm","prefix","values","block","MissileList","Missiles","SkinListItem","skin","rowid","FaceId","SkinViewer","SkinIndex","_data$Skin$Image","Skin","FreeCondition","FaceId_RarityGroup01","FaceId_RarityGroup02","FaceId_RarityGroup03","FaceId_RarityGroup04","FaceId_RarityGroup05","FaceId_RarityGroup06","FaceId_RarityGroup08","Units","unit","getRarityName","SkinList","skins","Skins","skinIdxSorter","skinA","skinB","SkinListWrapper","withRouter","Router","isLoggedIn","Switch","Route","path","component","exact","Redirect","locale","client","ApolloClient","uri","App","HashRouter","_ConfigProvider","zhCN","ApolloProvider","Provider","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c13ed97d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"unitListContent\":\"unitListContent--CRpSc\",\"sider\":\"sider--FfUOQ\",\"listContainer\":\"listContainer--26imr\",\"listCard\":\"listCard--1UEPc\",\"disable\":\"disable--3CLqq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"content--3r6z8\",\"logoblock\":\"logoblock--296BZ\",\"topLogo\":\"topLogo--33_5D\",\"beg\":\"beg--18EC5\",\"postContainer\":\"postContainer--1nDMI\",\"calendarMonthDisabled\":\"calendarMonthDisabled--38ECZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sider\":\"sider--1H67N\",\"missionListContent\":\"missionListContent--2unrs\",\"ant-collapse-borderless\":\"ant-collapse-borderless--20xt2\",\"mission-type\":\"mission-type--1Gjki\",\"listCard\":\"listCard--2nbjx\"};","module.exports = __webpack_public_path__ + \"static/media/logo.509ca4a9.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header--nlkOh\",\"logo\":\"logo--1BJO0\",\"headerMenu\":\"headerMenu--1GBBS\"};","module.exports = __webpack_public_path__ + \"static/media/pay.f5dab129.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"table--1V8Hg\",\"th\":\"th--183Ee\",\"compact\":\"compact--33fUs\",\"fakeInput\":\"fakeInput--334Hy\",\"small\":\"small--1SGOm\",\"configRowGroup\":\"configRowGroup--QsRao\",\"cover\":\"cover--1iRZV\",\"blank\":\"blank--3wN7Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"table--2BMSm\",\"th\":\"th--FnBgT\",\"compact\":\"compact--2d1SD\",\"fakeInput\":\"fakeInput--AyhCo\",\"small\":\"small--3rB9X\",\"configRowGroup\":\"configRowGroup--32G4L\",\"cover\":\"cover--1tVKj\",\"blank\":\"blank--3IOcM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginForm\":\"loginForm--3OVxD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"table--2hG_J\",\"th\":\"th--36mVi\",\"compact\":\"compact--1re4T\",\"fakeInput\":\"fakeInput--3vmc6\",\"small\":\"small--1MzuO\",\"configRowGroup\":\"configRowGroup--1RPUv\",\"cover\":\"cover--1iNDU\",\"blank\":\"blank--25gJl\",\"container\":\"container--goCu8\",\"previewContainer\":\"previewContainer--J9R0N\",\"outerRadioContainer\":\"outerRadioContainer--1EKQe\",\"inset\":\"inset--d9CSK\",\"radioContainer\":\"radioContainer--CSvzk\",\"radioGroup\":\"radioGroup--18PZQ\",\"danger\":\"danger--3p-BL\",\"outerImageContainer\":\"outerImageContainer--2kmJA\",\"imageContainer\":\"imageContainer--2Irjl\",\"textContainer\":\"textContainer--2gsdv\",\"fullScreen\":\"fullScreen--37f7X\",\"closeButton\":\"closeButton--MOFv7\",\"text\":\"text--Jfrlt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"table--KBP_i\",\"th\":\"th--12gvq\",\"compact\":\"compact--3h5bu\",\"fakeInput\":\"fakeInput--3j1VW\",\"small\":\"small--3nYGv\",\"configRowGroup\":\"configRowGroup--3r-yE\",\"cover\":\"cover--2XgIG\",\"blank\":\"blank--1AH1E\",\"questContainer\":\"questContainer--1_Nzl\",\"questInfo\":\"questInfo--2d-n2\",\"tableActions\":\"tableActions--5NQPY\",\"enemyRowWithChange\":\"enemyRowWithChange--3o_8I\",\"rowShow\":\"rowShow--1zKw7\"};","import { useState } from 'react';\nimport { createContainer } from 'unstated-next';\n\nfunction useUser() {\n  const [state, setState] = useState(localStorage.getItem('fuck') || '');\n  return {\n    get isLoggedIn() {\n      return (\n        state === 'fuckpulu' ||\n        state === 'fuckbaozitou' ||\n        state === 'fuckmaoxiong' ||\n        state === 'fucktuo'\n      );\n    },\n    login(token: string) {\n      setState(token);\n      localStorage.setItem('fuck', token);\n    },\n  };\n}\n\nexport default createContainer(useUser);\n","import { useMediaQuery } from 'react-responsive';\nimport { createContainer } from 'unstated-next';\n\nfunction useMedia() {\n  const isTabletOrMobile = useMediaQuery({ query: '(max-width: 991px)' });\n  return { isTabletOrMobile };\n}\n\nexport default createContainer(useMedia);\n","import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Layout, Menu } from 'antd';\nimport { useLocation } from 'react-router-dom';\nimport logo from '../../logo.png';\nimport styles from './Header.module.less';\n\nconst { Header } = Layout;\nconst { SubMenu, Item } = Menu;\n\nconst HeaderBar: React.FC = () => {\n  const [active, setActive] = useState('/');\n  const location = useLocation();\n  useEffect(() => {\n    setActive(location.pathname.split('/')[1]);\n  }, [location]);\n\n  return (\n    <Header className={styles.header}>\n      <Link to=\"/\">\n        <img alt=\"logo\" src={logo} className={styles.logo} />\n      </Link>\n      <Menu\n        mode=\"horizontal\"\n        className={styles.headerMenu}\n        selectedKeys={[active]}\n      >\n        <Item key=\"unit\">\n          <Link to=\"/unit\"></Link>\n        </Item>\n        <Item key=\"quest\">\n          <Link to=\"/quest\"></Link>\n        </Item>\n        <SubMenu title=\"...\">\n          <Item key=\"class\">\n            <Link to=\"/class\"></Link>\n          </Item>\n          <Item key=\"skill\">\n            <Link to=\"/skill\"></Link>\n          </Item>\n          <Item key=\"ability\">\n            <Link to=\"/ability\"></Link>\n          </Item>\n          <Item key=\"missile\">\n            <Link to=\"/missile\"></Link>\n          </Item>\n          <Item key=\"skin\">\n            <Link to=\"/skin\"></Link>\n          </Item>\n        </SubMenu>\n        {/* <Item key=\"emoji\">\n              <Link to=\"/emoji\"></Link>\n            </Item> */}\n      </Menu>\n    </Header>\n  );\n};\n\nexport default HeaderBar;\n","import React from 'react';\nimport { Card } from 'antd';\nimport { CardProps } from 'antd/lib/card';\nimport './Card.less';\n\nexport default class ShadowedCard extends React.Component<\n  CardProps\n> {\n  public render() {\n    return <Card {...this.props} className=\"card\" />;\n  }\n}\n","import { Dot, Frame } from './interfaces';\n\nexport class DefaultGetter {\n  private obj: any;\n  public constructor(obj: any) {\n    this.obj = obj;\n  }\n  public get(index: string | number) {\n    if (index in this.obj) {\n      return this.obj[index];\n    } else {\n      return index.toString();\n    }\n  }\n}\n\n// random choose a item from a array\nexport function choose<T>(arr: T[]) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexport function renderDescription(source: string) {\n  return (\n    '<span>' +\n    source\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;')\n      .replace(/%c\\[(.{6})\\]/g, '</span><span style=\"color: #$1\">')\n      .replace(/\\n/g, '<br />') +\n    '</span>'\n  );\n}\n\nfunction range(min: number, max: number, length: number) {\n  if (length === 1) return [min];\n  const res: number[] = [];\n  const gap = (max - min) / (length - 1);\n  let current = min;\n  while (length !== 0) {\n    res.push(current);\n    current += gap;\n    length--;\n  }\n  return res;\n}\n\nexport function generateTimelines(dots: Dot) {\n  const timelines: Frame[][] = [];\n  const frameNum = dots.Length;\n  for (const entry of dots.Entries) {\n    if (!entry.Sprites) {\n      continue\n    }\n    const timeline: Frame[] = [];\n    let patternPos = 0;\n    for (let t = 0; t <= frameNum; t++) {\n      const pattern = entry.PatternNo[patternPos];\n      const prevFrame = timeline[timeline.length - 1];\n      const frame: Frame = {\n        Sprite: prevFrame\n          ? { ...prevFrame.Sprite }\n          : {\n              X: 0,\n              Y: 0,\n              Width: 0,\n              Height: 0,\n              OriginX: 0,\n              OriginY: 0,\n              ParsedX: 0,\n              ParsedY: 0,\n            },\n        Alpha: 1,\n        Pos: { X: 0, Y: 0 },\n        Scale: { X: 1, Y: 1 },\n      };\n\n      if (\n        pattern &&\n        (pattern.Time === t ||\n          pattern.Time === undefined ||\n          pattern.Time === null)\n      ) {\n        frame.Sprite = {\n          ...entry.Sprites[pattern.Data],\n          ParsedX: 0,\n          ParsedY: 0,\n        };\n        patternPos++;\n      }\n\n      timeline.push(frame);\n      if (pattern && pattern.Time === undefined) break;\n    }\n\n    if (entry.Alpha) {\n      for (let alphaPos = 0; alphaPos < entry.Alpha.length - 1; alphaPos++) {\n        const prevAlpha = entry.Alpha[alphaPos];\n        const nextAlpha = entry.Alpha[alphaPos + 1];\n        const alphas = range(\n          prevAlpha.Data,\n          nextAlpha.Data,\n          nextAlpha.Time - prevAlpha.Time + 1,\n        );\n        for (let t = prevAlpha.Time; t <= nextAlpha.Time; t++) {\n          timeline[t].Alpha = alphas[t - prevAlpha.Time];\n        }\n      }\n      if (entry.Alpha.length === 1) {\n        for (const frame of timeline) {\n          frame.Alpha = entry.Alpha[0].Data;\n        }\n      }\n    }\n\n    if (entry.Pos) {\n      for (let posPos = 0; posPos < entry.Pos.length - 1; posPos++) {\n        const prevPos = entry.Pos[posPos];\n        const nextPos = entry.Pos[posPos + 1];\n        const posesX = range(\n          prevPos.Data.X,\n          nextPos.Data.X,\n          nextPos.Time - prevPos.Time + 1,\n        );\n        const posesY = range(\n          prevPos.Data.Y,\n          nextPos.Data.Y,\n          nextPos.Time - prevPos.Time + 1,\n        );\n\n        for (let t = prevPos.Time; t <= nextPos.Time; t++) {\n          timeline[t].Pos.X = posesX[t - prevPos.Time];\n          timeline[t].Pos.Y = posesY[t - prevPos.Time];\n        }\n      }\n\n      if (entry.Pos.length === 1) {\n        for (const frame of timeline) {\n          frame.Pos = { ...entry.Pos[0].Data };\n        }\n      }\n    }\n\n    if (entry.Scale) {\n      for (let scalePos = 0; scalePos < entry.Scale.length - 1; scalePos++) {\n        const prevScale = entry.Scale[scalePos];\n        const nextScale = entry.Scale[scalePos + 1];\n        const scalesX = range(\n          prevScale.Data.X,\n          nextScale.Data.X,\n          nextScale.Time - prevScale.Time + 1,\n        );\n        const scalesY = range(\n          prevScale.Data.Y,\n          nextScale.Data.Y,\n          nextScale.Time - prevScale.Time + 1,\n        );\n\n        for (let t = prevScale.Time; t <= nextScale.Time; t++) {\n          timeline[t].Scale.X = scalesX[t - prevScale.Time];\n          timeline[t].Scale.Y = scalesY[t - prevScale.Time];\n        }\n      }\n      if (entry.Scale.length === 1) {\n        for (const frame of timeline) {\n          frame.Scale = { ...entry.Scale[0].Data };\n        }\n      }\n    }\n\n    timelines.push(timeline);\n  }\n\n  timelines.forEach(timeline =>\n    timeline.forEach(frame => {\n      frame.Sprite.ParsedX =\n        frame.Sprite.OriginX -\n        frame.Pos.X +\n        (frame.Sprite.Width / 2) * (frame.Scale.X - 1);\n      frame.Sprite.ParsedY =\n        frame.Sprite.OriginY -\n        frame.Pos.Y +\n        frame.Sprite.Height * (frame.Scale.Y - 1);\n    }),\n  );\n\n  return timelines;\n}\n","import { DefaultGetter } from './utils';\nexport const BASE_SERVER_URL =\n  process.env.REACT_APP_SERVER || 'https://aigisapi.pigtv.moe';\n// export const BASE_SERVER_URL = 'http://localhost:4000';\nexport const BASE_GAME_URL = 'https://drc1bk94f7rq8.cloudfront.net';\nexport const GAME_POSTER_URL = BASE_GAME_URL + '/00/html/image';\nexport const API_URL = BASE_SERVER_URL + '/graphql';\nexport const STATIC_URL = BASE_SERVER_URL + '/static';\nexport const PLAYER_DOT_URL = STATIC_URL + '/playerDot';\nexport const ENEMY_DOT_URL = STATIC_URL + '/enemyDot';\nexport const BATTLE_TALK_EVENT_URL = STATIC_URL + '/battleTalkEvent';\nexport const EMOJI_URL = STATIC_URL + '/cqp';\nexport const ICO_URL = STATIC_URL + '/ico';\nexport const BANNER_URL = STATIC_URL + '/banner';\nexport const PLAYER_STAND_CG_URL = STATIC_URL + '/standCG';\nexport const PLAYER_HARLEM_CG_URL = STATIC_URL + '/harlemCG';\nexport const MAP_IMAGE_URL = STATIC_URL + '/map';\nexport const SKIN_ICO_URL = STATIC_URL + '/skinIco';\nexport const SKIN_CG_URL = STATIC_URL + '/skinCG';\nexport const SKIN_DOT_URL = STATIC_URL + '/skinDot';\n\nexport const ENEMY_CHANGE_COND: { [k: number]: string } = {\n  0: '',\n  1: '',\n  2: '',\n  3: '',\n  4: '',\n  5: '99%',\n};\nexport const BONUS_TYPE = new DefaultGetter({\n  1: 'HP +%d',\n  2: ' +%d',\n  3: ' +%d',\n  4: ' +%d',\n  5: ' +%d',\n  6: ' -%d',\n  7: ' +%d%',\n  8: ' -%d%',\n  9: ' +%d%',\n  11: ' +%d%',\n});\n","import React from 'react';\nimport { Spin } from 'antd';\nimport { choose } from '../../utils';\nimport { SpinProps } from 'antd/lib/spin';\n\nconst fuck = ['', '', '', '', 'ED'];\n\nconst Loading: React.FC<SpinProps> = ({ ...props }) => (\n  <Spin\n    tip={`${choose(fuck)}...`}\n    size=\"large\"\n    style={{ marginTop: '20vh', display: 'block' }}\n    {...props}\n  />\n);\n\nexport default Loading;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Layout, Col, Popover, Calendar, Row, Button } from 'antd';\nimport gql from 'graphql-tag';\nimport moment from 'moment';\nimport Card from 'Components/Card';\nimport logo from 'logo.png';\nimport payImage from './pay.png';\nimport styles from './Home.module.less';\nimport { useQuery } from '@apollo/react-hooks';\nimport { BANNER_URL, GAME_POSTER_URL } from 'consts';\nimport classNames from 'classnames';\nimport Loading from 'Components/Loading';\n\nconst { Content } = Layout;\n\nconst Home: React.FC = () => {\n  const [date, setDate] = useState<moment.Moment>();\n  const [selectedDate, setSelectedDate] = useState<moment.Moment>();\n  const { loading, data } = useQuery<{\n    UpdateTime: number;\n    Posters: string[];\n    Banners: string[];\n  }>(\n    gql`\n      query {\n        UpdateTime\n        Posters\n        Banners\n      }\n    `,\n    {\n      onCompleted: d => {\n        if (d.Posters.length > 0) {\n          const posterName = d.Posters[d.Posters.length - 1];\n          setSelectedDate(moment(posterName.slice(5, 13), 'YYYYMMDD'));\n        }\n      },\n    },\n  );\n\n  const posterRef = useRef<HTMLImageElement>(null);\n  const [posterLoading, setPosterLoading] = useState(true);\n  const [bannerEnabled, setBannerEnabled] = useState(false);\n\n  useEffect(() => {\n    if (\n      data?.Posters.includes(`event${selectedDate?.format('YYYYMMDD')}.jpg`)\n    ) {\n      setDate(selectedDate);\n    }\n  }, [data, selectedDate]);\n\n  useEffect(() => {\n    if (date && posterRef.current) {\n      posterRef.current.src = `${GAME_POSTER_URL}/event${date.format(\n        'YYYYMMDD',\n      )}.jpg`;\n      setPosterLoading(true);\n    }\n  }, [date]);\n\n  return (\n    <Content className={styles.content + ' container'}>\n      <div className={styles.logoblock}>\n        <img alt=\"logo\" src={logo} className={styles.topLogo} />\n        <h1>Naberius</h1>\n      </div>\n      <Card loading={loading}>\n        {!loading && data && (\n          <div>\n            \n            <time>{moment(data.UpdateTime).fromNow()}</time>\n          </div>\n        )}\n      </Card>\n      <Row gutter={16}>\n        <Col xs={24} md={12}>\n          <Card loading={loading} style={{ marginTop: 16 }}>\n            <h2></h2>\n            <Button onClick={ () => {\n              if (!bannerEnabled) {\n                setBannerEnabled(true);\n              }\n            }}></Button>\n            {data && bannerEnabled &&\n              data.Banners.map(bannerName => (\n                <img\n                  alt={bannerName}\n                  key={bannerName}\n                  src={`${BANNER_URL}/${bannerName}`}\n                  style={{ maxWidth: '100%' }}\n                />\n              ))}\n          </Card>\n        </Col>\n        <Col xs={24} md={12}>\n          <Card loading={loading} style={{ marginTop: 16 }}>\n            <h2></h2>\n            <Calendar\n              value={selectedDate || moment()}\n              onChange={value => {\n                setSelectedDate(value);\n              }}\n              fullscreen={false}\n              monthFullCellRender={value => {\n                const first = data?.Posters.find(p =>\n                  p.startsWith(`event${value.format('YYYYMM')}`),\n                );\n                return (\n                  <div className=\"ant-fullcalendar-month\">\n                    <div\n                      className={classNames('ant-fullcalendar-value', {\n                        [styles.calendarMonthDisabled]: !first,\n                      })}\n                      onClick={() =>\n                        first &&\n                        setSelectedDate(moment(first.slice(5, 13), 'YYYYMMDD'))\n                      }\n                    >\n                      {value.localeData().monthsShort(value)}\n                    </div>\n                  </div>\n                );\n              }}\n              disabledDate={value => {\n                if (data) {\n                  for (const posterName of data.Posters) {\n                    if (posterName === `event${value.format('YYYYMMDD')}.jpg`)\n                      return false;\n                  }\n                }\n                return true;\n              }}\n            />\n            <Loading spinning={posterLoading}>\n              {date && (\n                <img\n                  ref={posterRef}\n                  onLoad={() => setPosterLoading(false)}\n                  alt={date.format('YYYY/MM/DD')}\n                  style={{ width: '100%' }}\n                />\n              )}\n            </Loading>\n          </Card>\n        </Col>\n      </Row>\n      <div className={styles.beg}>\n        <Popover\n          placement=\"top\"\n          trigger=\"click\"\n          content={\n            <img\n              alt=\"minalinskyx#hotmail.compay\"\n              src={payImage}\n              width={500}\n            />\n          }\n        >\n          <Button type=\"primary\">\n            \n            <span role=\"img\" aria-label=\"coffee\">\n              \n            </span>\n          </Button>\n        </Popover>\n      </div>\n    </Content>\n  );\n};\n\nexport default Home;\n","import React from 'react';\n\nconst Rarity: React.FC<{ rare: number }> = ({ rare }) => {\n  switch (rare) {\n    case 0:\n      return <span style={{ color: 'grey' }}></span>;\n    case 1:\n      return <span style={{ color: 'brown' }}></span>;\n    case 2:\n      return <span style={{ color: 'silver' }}></span>;\n    case 3:\n      return <span style={{ color: 'gold' }}></span>;\n    case 4:\n      return <span></span>;\n    case 5:\n      return <span style={{ color: 'black' }}></span>;\n    case 7:\n      return <span style={{ color: 'blue' }}>SAPPHIRE</span>;\n    case 10:\n      return <span style={{ textShadow: '0 0 1px deepskyblue' }}></span>;\n    case 11:\n      return (\n        <span style={{ textShadow: '0 0 1px gold', color: 'black' }}>\n          \n        </span>\n      );\n    default:\n      return <span>UNKNOWN</span>;\n  }\n};\n\nexport default Rarity;\n","import React from 'react';\nimport { Row, Col, Tag } from 'antd';\nimport Rarity from '../../Rarity';\nimport styles from './UnitList.module.less';\nimport { ICO_URL } from '../../../consts';\nimport { Card } from './types';\nimport classNames from 'classnames';\n\ninterface UnitListCardProps {\n  card: Card;\n  showUnit: (cardID: string) => void;\n  setFilter: (search: string, searchType: string) => void;\n  style?: React.CSSProperties;\n}\n\ninterface FormFields {\n  nickName: string;\n  conneName: string;\n}\n\nconst UnitListCard: React.FC<UnitListCardProps> = ({\n  card,\n  showUnit,\n  setFilter,\n  style,\n}) => {\n  return (\n    <div\n      style={style}\n      className={classNames(styles.listCard, {\n        [styles.male]: Number.parseInt(card.Kind) === 1,\n        [styles.female]: Number.parseInt(card.Kind) === 0,\n      })}\n    >\n      <Row\n        type=\"flex\"\n        style={{ alignItems: 'center' }}\n        onClick={() => showUnit(card.CardID)}\n      >\n        <Col md={2} xs={3}>\n          {card.CardID}\n        </Col>\n        <Col md={2} xs={5}>\n          <img\n            src={`${ICO_URL}/0/${card.CardID}.png`}\n            alt={card.CardID.toString()}\n            height=\"48\"\n          />\n        </Col>\n        <Col md={4} xs={16}>\n          <Rarity rare={Number.parseInt(card.Rare, 10)} />\n          <br />\n          {card.Name}\n        </Col>\n        <Col lg={6} xs={0}>\n          {card.RaceName && (\n            <span\n              onClick={(e) => {\n                e.stopPropagation();\n                setFilter(card.RaceName, 'RaceName');\n              }}\n            >\n              <Tag>{card.RaceName}</Tag>\n            </span>\n          )}\n          {card.AssignName && (\n            <span\n              onClick={(e) => {\n                e.stopPropagation();\n                setFilter(card.AssignName, 'AssignName');\n              }}\n            >\n              <Tag color=\"magenta\">{card.AssignName}</Tag>\n            </span>\n          )}\n          {card.IdentityName && (card.IdentityName.map((name, i) => {\n            return (\n              <span\n                key={i}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  setFilter(name, 'IdentityName');\n                }}\n              >\n                <Tag color=\"black\">{name}</Tag>\n              </span>);\n          }))}\n          {card.GenusName && (\n            <span\n              onClick={(e) => {\n                e.stopPropagation();\n                setFilter(card.GenusName, 'GenusName');\n              }}\n            >\n              <Tag color=\"blue\">{card.GenusName}</Tag>\n            </span>\n          )}\n        </Col>\n        <Col\n          lg={5}\n          md={8}\n          xs={0}\n          className=\"filter\"\n          onClick={(e) => {\n            e.stopPropagation();\n            setFilter(card.Classes[0].Name, 'Classes.0.Name');\n          }}\n        >\n          {card.Classes[0].Name}\n        </Col>\n        <Col\n          lg={5}\n          md={8}\n          xs={0}\n          className=\"filter\"\n          onClick={(e) => {\n            e.stopPropagation();\n            setFilter(card.IllustName, 'IllustName');\n          }}\n        >\n          {card.IllustName}\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport default UnitListCard;\n","import gql from 'graphql-tag';\n\nexport const DotFragment = gql`\n  fragment Dot on Dot {\n    Name\n    Length\n    Entries {\n      Sprites {\n        X\n        Y\n        Width\n        Height\n        OriginX\n        OriginY\n      }\n      PatternNo {\n        Time\n        Data\n      }\n      Pos {\n        Time\n        Data {\n          X\n          Y\n        }\n      }\n      Scale {\n        Time\n        Data {\n          X\n          Y\n        }\n      }\n      Alpha {\n        Time\n        Data\n      }\n    }\n  }\n`;\n\nexport const MissileFragment = gql`\n  fragment missile on Missile {\n    MissileID\n    PatternID\n    Enemy\n    Speed\n    SlowTime\n    SlowRate\n    DamageArea\n    Property\n  }\n`;\n\nexport const EnemyFragment = gql`\n  fragment enemy on Enemy {\n    DotRate\n    HitEffect\n    MissileID\n    DeadEffect\n    SpecialEffect\n    PatternID\n    Weather\n    HP\n    HP_MAX\n    ATTACK_POWER\n    TypeAttack\n    ATTACK_RANGE\n    ATTACK_SPEED\n    ARMOR_DEFENSE\n    MAGIC_DEFENSE\n    MOVE_SPEED\n    SKILL\n    SkyFlag\n    GainCost\n    EffectHeight\n    MagicAttack\n    AttackWait\n    MissileID\n    Missile {\n      ...missile\n    }\n    DeadEffect\n    Param_ResistanceAssassin\n    Param_ChangeParam\n    Param_ChangeCondition\n    SpecialtyConfigs {\n      Type_Influence\n      Param_1\n      Param_2\n      Param_3\n      Param_4\n      _Expression\n      _ExtParam\n      Comment\n    }\n    EnemyElem {\n      _EnemyElementName\n    }\n    EnemyType {\n      _EnemyTypeName\n    }\n    Dots {\n      ...Dot\n    }\n    _Attribute\n  }\n  ${MissileFragment}\n`;\n","import gql from 'graphql-tag';\nimport { Card } from 'interfaces';\nimport { DotFragment, MissileFragment } from 'fragments';\n\nexport interface Data {\n  Card: Card;\n}\n\nexport const query = gql`\n  query ($id: Int!) {\n    Card(CardID: $id) {\n      SpecialtyConfigs {\n        ID_Card\n        Type_Specialty\n        Value_Specialty\n        Value_Param1\n        Value_Param2\n        Value_Param3\n        Value_Param4\n        Command\n        Comment\n      }\n      CardID\n      _AwakePattern\n      HarlemTextR\n      HarlemTextA\n      Name\n      Rare\n      Kind\n      MaxHPMod\n      AtkMod\n      DefMod\n      CostModValue\n      CostDecValue\n      MagicResistance\n      BonusType\n      BonusNum\n      BonusType2\n      BonusNum2\n      BonusType3\n      BonusNum3\n      RaceName\n      AssignName\n      IdentityName\n      GenusName\n      IllustName\n      HomeCooking\n      SellPrice\n      BuildExp\n      _TradePoint\n      ConneName\n      NickNames\n      Dots {\n        ...Dot\n      }\n      Classes {\n        JobChange\n        AttackAttribute\n        Missile {\n          ...missile\n        }\n        Cards {\n          Rare\n          CardID\n          Name\n        }\n        Type\n        ClassID\n        Name\n        InitHP\n        MaxHP\n        InitDef\n        MaxDef\n        InitAtk\n        MaxAtk\n        AtkArea\n        BlockNum\n        MaxLevel\n        Explanation\n        Cost\n        NickNames\n        AttackWait\n        ClassAbilityConfigs {\n          _InvokeType\n          _TargetType\n          _InfluenceType\n          _Param1\n          _Param2\n          _Param3\n          _Param4\n          _Command\n          _ActivateCommand\n          Comment\n        }\n        ClassAbilityPower1\n        BattleStyle {\n          Data_ID\n          Type_BattleStyle\n          _Param_01\n          _Param_02\n          _Range_01\n          _Range_02\n          _Range_03\n          _Range_04\n          _Range_05\n        }\n      }\n      ImageCG\n      ImageStand\n      Abilities {\n        Cards {\n          Rare\n          CardID\n          Name\n        }\n        Type\n        AbilityID\n        Text\n        AbilityName\n        Configs {\n          _InvokeType\n          _TargetType\n          _InfluenceType\n          _Param1\n          _Param2\n          _Param3\n          _Param4\n          _Command\n          _ActivateCommand\n          Comment\n        }\n      }\n      ClassLV0SkillID\n      ClassLV1SkillID\n      Skills {\n        Type\n        Skills {\n          SkillName\n          WaitTime\n          ContTimeMax\n          PowerMax\n          LevelMax\n          Text\n          SkillID\n          Cards {\n            Rare\n            Name\n            CardID\n          }\n          Configs {\n            Type_Collision\n            Type_CollisionState\n            Type_ChangeFunction\n            Data_Target\n            Data_InfluenceType\n            Data_MulValue\n            Data_MulValue2\n            Data_MulValue3\n            Data_AddValue\n            _HoldRatioUpperLimit\n            _Expression\n            _ExpressionActivate\n            Comment\n          }\n        }\n      }\n    }\n  }\n  ${DotFragment}\n  ${MissileFragment}\n`;\n","import React from 'react';\n\nconst Gender: React.FC<{ gender: number }> = ({ gender }) => {\n  if (gender === 0) {\n    return <span style={{ color: 'blue' }}></span>;\n  } else if (gender === 1) {\n    return <span style={{ color: 'red' }}></span>;\n  }\n  return null;\n};\n\nexport default Gender;\n","import React, { useState, useRef, useEffect } from 'react';\nimport styles from './SkillTable.module.less';\nimport { Button, Row, Col, Input, message, Spin } from 'antd';\nimport { renderDescription } from '../../utils';\nimport { SkillData, SkillConfig } from 'interfaces';\nimport MediaContext from 'context/MediaContext';\nimport { Link } from 'react-router-dom';\nimport { ICO_URL } from 'consts';\nimport classNames from 'classnames';\nimport { useMutation } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\n\nconst SKILL_TYPE = {\n  Init: '',\n  CC: 'CC',\n  Evo: '',\n};\n\nconst SkillConfigTableRows: React.FC<{ config: SkillConfig }> = ({\n  config,\n}) => {\n  const [value, setValue] = useState(config.Comment || '');\n\n  const [setSkillConfigMeta, { loading, data }] = useMutation<{\n    SkillConfigMeta?: { TypeID: number; Comment: string };\n  }>(\n    gql`\n      mutation ($TypeID: Int!, $Comment: String) {\n        SkillConfigMeta(TypeID: $TypeID, Comment: $Comment) {\n          TypeID\n          Comment\n        }\n      }\n    `,\n    {\n      onCompleted: (d) => {\n        setValue(d?.SkillConfigMeta?.Comment || '');\n      },\n    },\n  );\n\n  const [editing, setEditing] = useState(false);\n  const ref = useRef<Input>(null);\n\n  useEffect(() => {\n    if (editing && ref.current) {\n      ref.current.focus();\n    }\n  }, [editing]);\n\n  const handleSave = async () => {\n    await setSkillConfigMeta({\n      variables: { TypeID: config.Data_InfluenceType, Comment: value },\n    });\n    message.success('');\n    setEditing(false);\n  };\n\n  return (\n    <tbody className={styles.configRowGroup}>\n      <tr className={styles.cover}>\n        <td\n          colSpan={8}\n          className={classNames({\n            [styles.blank]: !(data\n              ? data.SkillConfigMeta?.Comment\n              : config.Comment),\n          })}\n        >\n          {editing ? (\n            <Spin spinning={loading}>\n              <Input\n                size=\"small\"\n                ref={ref}\n                value={value}\n                onChange={(e) => setValue(e.target.value)}\n                onBlur={handleSave}\n                onPressEnter={handleSave}\n              />\n            </Spin>\n          ) : (\n            <div\n              className={classNames(styles.fakeInput, styles.small)}\n              onClick={() => setEditing(true)}\n            >\n              {data ? data.SkillConfigMeta?.Comment : config.Comment}\n            </div>\n          )}\n        </td>\n      </tr>\n      <tr>\n        <td>{config.Data_InfluenceType}</td>\n        <td>{config.Data_MulValue}</td>\n        <td>{config.Data_MulValue2}</td>\n        <td>{config._HoldRatioUpperLimit || config.Data_MulValue3}</td>\n        <td>{config.Data_AddValue}</td>\n        <td>{config.Type_Collision}</td>\n        <td>{config.Type_CollisionState}</td>\n        <td>{config.Data_Target}</td>\n      </tr>\n      {(config._ExpressionActivate !== '' || config._Expression !== '') && (\n        <tr>\n          <td\n            colSpan={4}\n            style={{\n              wordWrap: 'break-word',\n            }}\n          >\n            {config._Expression}\n          </td>\n          <td\n            colSpan={4}\n            style={{\n              wordWrap: 'break-word',\n            }}\n          >\n            {config._ExpressionActivate}\n          </td>\n        </tr>\n      )}\n    </tbody>\n  );\n};\n\nconst SkillTableRows: React.FC<{ skill: SkillData }> = ({ skill }) => {\n  const [showConfigs, setShowConfigs] = useState(false);\n  const { isTabletOrMobile } = MediaContext.useContainer();\n  const secondRow = (\n    <>\n      <td>{skill.LevelMax}</td>\n      <td>{skill.ContTimeMax}</td>\n      <td>{skill.WaitTime - skill.LevelMax}</td>\n      <td>{skill.PowerMax}</td>\n      <td>\n        <Button\n          type=\"primary\"\n          size=\"small\"\n          onClick={() => setShowConfigs(!showConfigs)}\n          icon={showConfigs ? 'up' : 'down'}\n        />\n      </td>\n    </>\n  );\n  return (\n    <React.Fragment>\n      <tr>\n        <th colSpan={isTabletOrMobile ? 2 : 1}>\n          <small>#{skill.SkillID}</small>\n          {skill.SkillName}\n        </th>\n        <td\n          colSpan={isTabletOrMobile ? 3 : 1}\n          style={{ textAlign: 'left' }}\n          dangerouslySetInnerHTML={{\n            __html: renderDescription(skill.Text),\n          }}\n        />\n        {!isTabletOrMobile && secondRow}\n      </tr>\n      {isTabletOrMobile && <tr>{secondRow}</tr>}\n      {showConfigs && (\n        <tr>\n          <td colSpan={isTabletOrMobile ? 5 : 7}>\n            <Row gutter={8}>\n              <Col xs={24} md={12}>\n                <table\n                  className={styles.table}\n                  style={{ tableLayout: 'fixed' }}\n                >\n                  <tbody>\n                    <tr>\n                      <th style={{ width: '6em' }}></th>\n                      <td>\n                        {skill.Cards.sort(\n                          (c1, c2) =>\n                            Number.parseInt(c2.Rare, 10) -\n                            Number.parseInt(c1.Rare, 10),\n                        ).map((card) => (\n                          <Link key={card.CardID} to={`/unit/${card.CardID}`}>\n                            <img\n                              alt={card.CardID.toString()}\n                              style={{ width: 40, marginLeft: 8 }}\n                              src={`${ICO_URL}/0/${card.CardID}.png`}\n                            />\n                            {card.Name}\n                          </Link>\n                        ))}\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n              </Col>\n              <Col xs={24} md={12}>\n                <table\n                  className={styles.table}\n                  style={{\n                    tableLayout: 'fixed',\n                    position: 'relative',\n                  }}\n                >\n                  <thead>\n                    <tr>\n                      <th></th>\n                      <th></th>\n                      <th></th>\n                      <th></th>\n                      <th></th>\n                      <th></th>\n                      <th></th>\n                      <th></th>\n                    </tr>\n                    <tr>\n                      <th colSpan={4}></th>\n                      <th colSpan={4}></th>\n                    </tr>\n                  </thead>\n                  {skill.Configs.map((config, index) => (\n                    <SkillConfigTableRows config={config} key={index} />\n                  ))}\n                </table>\n              </Col>\n            </Row>\n          </td>\n        </tr>\n      )}\n    </React.Fragment>\n  );\n};\n\nconst SkillTable: React.FC<{\n  skills: SkillData[];\n  type?: keyof typeof SKILL_TYPE;\n}> = ({ skills, type }) => {\n  const { isTabletOrMobile } = MediaContext.useContainer();\n  return (\n    <table className={styles.table}>\n      <thead>\n        {type && (\n          <tr>\n            <td colSpan={7}>{SKILL_TYPE[type]}</td>\n          </tr>\n        )}\n        <tr>\n          {!isTabletOrMobile && (\n            <>\n              <td style={{ width: 200 }} />\n              <th></th>\n            </>\n          )}\n          <th style={{ width: isTabletOrMobile ? '20%' : 60 }}></th>\n          <th style={{ width: isTabletOrMobile ? '20%' : 60 }}></th>\n          <th style={{ width: isTabletOrMobile ? '20%' : 60 }}></th>\n          <th style={{ width: isTabletOrMobile ? '20%' : 60 }}></th>\n          <th style={{ width: isTabletOrMobile ? '20%' : 60 }}></th>\n        </tr>\n      </thead>\n      <tbody>\n        {skills.map((skill, index) => (\n          <SkillTableRows key={index} skill={skill} />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default SkillTable;\n","import React, { useState, useRef, useEffect } from 'react';\nimport styles from './AbilityTable.module.less';\nimport { renderDescription } from '../../utils';\nimport { Button, Row, Col, Input, message, Spin } from 'antd';\nimport { AbilityData, AbilityConfig } from 'interfaces';\nimport MediaContext from 'context/MediaContext';\nimport { Link } from 'react-router-dom';\nimport { ICO_URL } from 'consts';\nimport { useMutation } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport classNames from 'classnames';\n\nconst ABILITY_TYPE = {\n  Init: '',\n  Evo: '',\n};\n\nconst AbilityConfigTableRows: React.FC<{ config: AbilityConfig }> = ({\n  config,\n}) => {\n  const [value, setValue] = useState(config.Comment || '');\n\n  const [setAbilityConfigMeta, { loading, data }] = useMutation<{\n    AbilityConfigMeta?: { TypeID: number; Comment: string };\n  }>(\n    gql`\n      mutation ($TypeID: Int!, $Comment: String) {\n        AbilityConfigMeta(TypeID: $TypeID, Comment: $Comment) {\n          TypeID\n          Comment\n        }\n      }\n    `,\n    {\n      onCompleted: (d) => {\n        setValue(d?.AbilityConfigMeta?.Comment || '');\n      },\n    },\n  );\n\n  const [editing, setEditing] = useState(false);\n  const ref = useRef<Input>(null);\n\n  useEffect(() => {\n    if (editing && ref.current) {\n      ref.current.focus();\n    }\n  }, [editing]);\n\n  const handleSave = async () => {\n    await setAbilityConfigMeta({\n      variables: { TypeID: config._InfluenceType, Comment: value },\n    });\n    message.success('');\n    setEditing(false);\n  };\n\n  return (\n    <tbody className={styles.configRowGroup}>\n      <tr className={styles.cover}>\n        <td\n          colSpan={8}\n          className={classNames({\n            [styles.blank]: !(data\n              ? data.AbilityConfigMeta?.Comment\n              : config.Comment),\n          })}\n        >\n          {editing ? (\n            <Spin spinning={loading}>\n              <Input\n                size=\"small\"\n                ref={ref}\n                value={value}\n                onChange={(e) => setValue(e.target.value)}\n                onBlur={handleSave}\n                onPressEnter={handleSave}\n              />\n            </Spin>\n          ) : (\n            <div\n              className={classNames(styles.fakeInput, styles.small)}\n              onClick={() => setEditing(true)}\n            >\n              {data ? data.AbilityConfigMeta?.Comment : config.Comment}\n            </div>\n          )}\n        </td>\n      </tr>\n      <tr>\n        <td>{config._InfluenceType}</td>\n        <td>{config._Param1}</td>\n        <td>{config._Param2}</td>\n        <td>{config._Param3}</td>\n        <td>{config._Param4}</td>\n        <td>{config._InvokeType}</td>\n        <td>{config._TargetType}</td>\n      </tr>\n      {(config._Command !== '' || config._ActivateCommand !== '') && (\n        <tr>\n          <td\n            colSpan={3}\n            style={{\n              wordWrap: 'break-word',\n            }}\n          >\n            {config._Command}\n          </td>\n          <td\n            colSpan={4}\n            style={{\n              wordWrap: 'break-word',\n            }}\n          >\n            {config._ActivateCommand}\n          </td>\n        </tr>\n      )}\n    </tbody>\n  );\n};\n\nconst AbilityTable: React.FC<{ ability: AbilityData }> = ({ ability }) => {\n  const { isTabletOrMobile } = MediaContext.useContainer();\n  const [showConfigs, setShowConfigs] = useState(false);\n  return (\n    <table className={styles.table}>\n      <tbody>\n        {isTabletOrMobile && ability.Type && (\n          <tr>\n            <td colSpan={3}>{ABILITY_TYPE[ability.Type]}</td>\n          </tr>\n        )}\n        {!isTabletOrMobile && (\n          <tr>\n            <td>{ABILITY_TYPE[ability.Type]}</td>\n            <th></th>\n            <th></th>\n          </tr>\n        )}\n        <tr>\n          <th style={{ width: '30%' }}>\n            <small>#{ability.AbilityID}</small>\n            {ability.AbilityName}\n          </th>\n          <td\n            style={{ textAlign: 'left' }}\n            dangerouslySetInnerHTML={{\n              __html: renderDescription(ability.Text),\n            }}\n          />\n          <td style={{ width: 50 }}>\n            <Button\n              type=\"primary\"\n              size=\"small\"\n              onClick={() => setShowConfigs(!showConfigs)}\n              icon={showConfigs ? 'up' : 'down'}\n            />\n          </td>\n        </tr>\n        {showConfigs && (\n          <tr>\n            <td colSpan={3}>\n              <Row gutter={8}>\n                <Col xs={24} md={12}>\n                  <table\n                    className={styles.table}\n                    style={{\n                      tableLayout: 'fixed',\n                    }}\n                  >\n                    <tbody>\n                      <tr>\n                        <th style={{ width: '6em' }}></th>\n                        <td>\n                          {ability.Cards.sort(\n                            (c1, c2) =>\n                              Number.parseInt(c2.Rare, 10) -\n                              Number.parseInt(c1.Rare, 10),\n                          ).map((card) => (\n                            <Link key={card.CardID} to={`/unit/${card.CardID}`}>\n                              <img\n                                alt={card.CardID.toString()}\n                                style={{ width: 40, marginLeft: 8 }}\n                                src={`${ICO_URL}/0/${card.CardID}.png`}\n                              />\n                              {card.Name}\n                            </Link>\n                          ))}\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </Col>\n                <Col xs={24} md={12}>\n                  <table\n                    className={styles.table}\n                    style={{\n                      tableLayout: 'fixed',\n                      position: 'relative',\n                    }}\n                  >\n                    <thead>\n                      <tr>\n                        <th></th>\n                        <th>p1</th>\n                        <th>p2</th>\n                        <th>p3</th>\n                        <th>p4</th>\n                        <th></th>\n                        <th></th>\n                      </tr>\n                      <tr>\n                        <th colSpan={3}></th>\n                        <th colSpan={4}></th>\n                      </tr>\n                    </thead>\n                    {ability.Configs.map((config, index) => (\n                      <AbilityConfigTableRows key={index} config={config} />\n                    ))}\n                  </table>\n                </Col>\n              </Row>\n            </td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  );\n};\n\nexport default AbilityTable;\n","import React from 'react';\nimport { Missile } from 'interfaces';\nimport styles from './MissileTable.module.less';\nimport MediaContext from 'context/MediaContext';\n\nconst MissileTable: React.FC<{\n  missile: Missile;\n  compact?: boolean;\n}> = ({ missile, compact = false }) => {\n  const { isTabletOrMobile } = MediaContext.useContainer();\n  const isCompact = isTabletOrMobile || compact;\n  return (\n    <table className={styles.table} style={{ tableLayout: 'fixed' }}>\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th></th>\n          <th></th>\n          <th></th>\n          <th></th>\n          <th></th>\n          <th></th>\n          {!isCompact && <th></th>}\n        </tr>\n        {!!(isCompact && missile.Property) && (\n          <tr>\n            <th colSpan={7}></th>\n          </tr>\n        )}\n      </thead>\n      <tbody>\n        <tr>\n          <td>{missile.MissileID}</td>\n          <td>{missile.PatternID.toString(16)}</td>\n          <td>{missile.Enemy ? '' : ''}</td>\n          <td>{missile.Speed}</td>\n          <td>{missile.SlowTime}</td>\n          <td>{missile.SlowRate}</td>\n          <td>{missile.DamageArea}</td>\n          {!isCompact && <td>{missile.Property}</td>}\n        </tr>\n        {!!(missile.Property && isCompact) && (\n          <tr>\n            <td colSpan={7}>{missile.Property}</td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  );\n};\n\nexport default MissileTable;\n","import React, { useState, useEffect, useRef } from 'react';\nimport styles from './ClassTable.module.less';\nimport { renderDescription } from '../../utils';\nimport { Button, Row, Col, Select, Spin, Tag, message, Input } from 'antd';\nimport { ClassData, AbilityConfig } from 'interfaces';\nimport MediaContext from 'context/MediaContext';\nimport { Link } from 'react-router-dom';\nimport { ICO_URL } from 'consts';\nimport { useMutation } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport MissileTable from 'Components/MissileTable';\nimport classNames from 'classnames';\n\nconst CLASS_TYPE = {\n  Init: '',\n  CC: 'CC',\n  Evo: '',\n  Evo2a: 'A',\n  Evo2b: 'B',\n};\n\nconst AbilityConfigTableRows: React.FC<{ config: AbilityConfig }> = ({\n  config,\n}) => {\n  const [value, setValue] = useState(config.Comment || '');\n\n  const [setAbilityConfigMeta, { loading, data }] = useMutation<{\n    AbilityConfigMeta?: { TypeID: number; Comment: string };\n  }>(\n    gql`\n      mutation ($TypeID: Int!, $Comment: String) {\n        AbilityConfigMeta(TypeID: $TypeID, Comment: $Comment) {\n          TypeID\n          Comment\n        }\n      }\n    `,\n    {\n      onCompleted: (d) => {\n        setValue(d?.AbilityConfigMeta?.Comment || '');\n      },\n    },\n  );\n\n  const [editing, setEditing] = useState(false);\n  const ref = useRef<Input>(null);\n\n  useEffect(() => {\n    if (editing && ref.current) {\n      ref.current.focus();\n    }\n  }, [editing]);\n\n  const handleSave = async () => {\n    await setAbilityConfigMeta({\n      variables: { TypeID: config._InfluenceType, Comment: value },\n    });\n    message.success('');\n    setEditing(false);\n  };\n\n  return (\n    <tbody className={styles.configRowGroup}>\n      <tr className={styles.cover}>\n        <td\n          colSpan={8}\n          className={classNames({\n            [styles.blank]: !(data\n              ? data.AbilityConfigMeta?.Comment\n              : config.Comment),\n          })}\n        >\n          {editing ? (\n            <Spin spinning={loading}>\n              <Input\n                size=\"small\"\n                ref={ref}\n                value={value}\n                onChange={(e) => setValue(e.target.value)}\n                onBlur={handleSave}\n                onPressEnter={handleSave}\n              />\n            </Spin>\n          ) : (\n            <div\n              className={classNames(styles.fakeInput, styles.small)}\n              onClick={() => setEditing(true)}\n            >\n              {data ? data.AbilityConfigMeta?.Comment : config.Comment}\n            </div>\n          )}\n        </td>\n      </tr>\n      <tr>\n        <td>{config._InfluenceType}</td>\n        <td>{config._Param1}</td>\n        <td>{config._Param2}</td>\n        <td>{config._Param3}</td>\n        <td>{config._Param4}</td>\n        <td>{config._InvokeType}</td>\n        <td>{config._TargetType}</td>\n      </tr>\n      {(config._Command !== '' || config._ActivateCommand !== '') && (\n        <tr>\n          <td\n            colSpan={3}\n            style={{\n              wordWrap: 'break-word',\n            }}\n          >\n            {config._Command}\n          </td>\n          <td\n            colSpan={4}\n            style={{\n              wordWrap: 'break-word',\n            }}\n          >\n            {config._ActivateCommand}\n          </td>\n        </tr>\n      )}\n    </tbody>\n  );\n};\n\nconst ClassTable: React.FC<{\n  classData: ClassData;\n  onCompleted?: () => any;\n}> = ({ classData, onCompleted }) => {\n  const [showConfigs, setShowConfigs] = useState(false);\n\n  const { isTabletOrMobile } = MediaContext.useContainer();\n\n  const [setClassMeta, { loading }] = useMutation(\n    gql`\n      mutation ($ClassID: Int!, $NickNames: [String!]!) {\n        ClassMeta(ClassID: $ClassID, NickNames: $NickNames) {\n          NickNames\n        }\n      }\n    `,\n    { onCompleted },\n  );\n\n  const [value, setValue] = useState(classData.NickNames || []);\n  const [editing, setEditing] = useState(false);\n  const ref = useRef<Select<string[]>>(null);\n\n  useEffect(() => {\n    if (editing && ref.current) {\n      ref.current.focus();\n    }\n  }, [editing]);\n\n  const handleSave = async () => {\n    await setClassMeta({\n      variables: { ClassID: classData.ClassID, NickNames: value },\n    });\n    message.success('');\n    setEditing(false);\n  };\n\n  return (\n    <table className={styles.table}>\n      <tbody>\n        {isTabletOrMobile && classData.Type && (\n          <tr>\n            <td colSpan={isTabletOrMobile ? 3 : 5}>\n              {CLASS_TYPE[classData.Type]}\n            </td>\n          </tr>\n        )}\n        <tr>\n          {!isTabletOrMobile && (\n            <>\n              <td style={{ width: 200 }}>{CLASS_TYPE[classData.Type]}</td>\n              <th></th>\n            </>\n          )}\n          <th style={{ width: isTabletOrMobile ? '33.33%' : 100 }}></th>\n          <th style={{ width: isTabletOrMobile ? '33.33%' : 100 }}></th>\n          <th style={{ width: isTabletOrMobile ? '33.33%' : 100 }}></th>\n        </tr>\n        <tr>\n          <th>\n            <small>#{classData.ClassID}</small>\n            {classData.Name}\n          </th>\n          <td\n            colSpan={isTabletOrMobile ? 2 : 1}\n            style={{ textAlign: 'left' }}\n            dangerouslySetInnerHTML={{\n              __html: renderDescription(classData.Explanation),\n            }}\n          />\n          {!isTabletOrMobile && (\n            <>\n              <td>{classData.AttackWait}</td>\n              <td>{classData.ClassAbilityPower1}</td>\n              <td>\n                <Button\n                  type=\"primary\"\n                  size=\"small\"\n                  onClick={() => setShowConfigs(!showConfigs)}\n                  icon={showConfigs ? 'up' : 'down'}\n                />\n              </td>\n            </>\n          )}\n        </tr>\n        {isTabletOrMobile && (\n          <tr>\n            <td>{classData.AttackWait}</td>\n            <td>{classData.ClassAbilityPower1}</td>\n            <td>\n              <Button\n                type=\"primary\"\n                size=\"small\"\n                onClick={() => setShowConfigs(!showConfigs)}\n                icon={showConfigs ? 'up' : 'down'}\n              />\n            </td>\n          </tr>\n        )}\n        {showConfigs && (\n          <tr>\n            <td colSpan={isTabletOrMobile ? 3 : 5}>\n              <Row gutter={8}>\n                <Col xs={24} md={12}>\n                  <table\n                    style={{\n                      tableLayout: 'fixed',\n                    }}\n                    className={styles.table}\n                  >\n                    <tbody>\n                      <tr>\n                        <th style={{ width: '6em' }}></th>\n                        <td>\n                          {editing ? (\n                            <Spin spinning={loading}>\n                              <Select<string[]>\n                                mode=\"tags\"\n                                tokenSeparators={[',', ' ']}\n                                ref={ref}\n                                value={value}\n                                onChange={(v) => setValue(v)}\n                                onBlur={handleSave}\n                                style={{ width: '100%' }}\n                              />\n                            </Spin>\n                          ) : (\n                            <div\n                              onClick={() => setEditing(true)}\n                              className={styles.fakeInput}\n                            >\n                              {classData.NickNames &&\n                                classData.NickNames.map((name, index) => (\n                                  <Tag key={index}>{name}</Tag>\n                                ))}\n                            </div>\n                          )}\n                        </td>\n                      </tr>\n                      <tr>\n                        <th></th>\n                        <td>\n                          {classData.Cards.sort(\n                            (c1, c2) =>\n                              Number.parseInt(c2.Rare, 10) -\n                              Number.parseInt(c1.Rare, 10),\n                          ).map((card) => (\n                            <Link key={card.CardID} to={`/unit/${card.CardID}`}>\n                              <img\n                                alt={card.CardID.toString()}\n                                style={{ width: 40, marginLeft: 8 }}\n                                src={`${ICO_URL}/0/${card.CardID}.png`}\n                              />\n                              {card.Name}\n                            </Link>\n                          ))}\n                        </td>\n                      </tr>\n                      <tr>\n                        <th></th>\n                        <td>{classData.AttackAttribute}</td>\n                      </tr>\n                    </tbody>\n                  </table>\n\n                  {classData.Missile && (\n                    <MissileTable missile={classData.Missile} compact />\n                  )}\n                </Col>\n                <Col xs={24} md={12}>\n                  <table\n                    className={styles.table}\n                    style={{\n                      tableLayout: 'fixed',\n                      position: 'relative',\n                    }}\n                  >\n                    <thead>\n                      <tr>\n                        <th></th>\n                        <th>p1</th>\n                        <th>p2</th>\n                        <th>p3</th>\n                        <th>p4</th>\n                        <th></th>\n                        <th></th>\n                      </tr>\n                      <tr>\n                        <th colSpan={3}></th>\n                        <th colSpan={4}></th>\n                      </tr>\n                    </thead>\n                    {classData.ClassAbilityConfigs.map((config, index) => (\n                      <AbilityConfigTableRows key={index} config={config} />\n                    ))}\n                  </table>\n                </Col>\n              </Row>\n            </td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  );\n};\n\nexport default ClassTable;\n","import React, { useEffect, useRef } from 'react';\nimport { Tooltip } from 'antd';\nimport { Dot } from '../../interfaces';\nimport { generateTimelines } from '../../utils';\nimport * as GIF from 'gif.js';\n\ninterface DotAnimationProps {\n  dot: Dot;\n  CardID: number;\n  urlBase: string;\n}\n\nconst DotAnimation: React.FC<DotAnimationProps> = ({ dot, CardID, urlBase }) => {\n  const canvas = useRef<HTMLCanvasElement>();\n  // const tempCanvas = useRef<HTMLCanvasElement>();\n  const gif = useRef<any>();\n  useEffect(() => {\n    let top = 0;\n    let bottom = 65536;\n    let left = 0;\n    let right = 65536;\n    let canvasWidth = 0;\n    let canvasHeight = 0;\n    const tickNum: number = dot.Length;\n\n    const timelines = generateTimelines(dot);\n    if (timelines.length === 0) {\n      return;\n    }\n\n    timelines.forEach((timeline) => {\n      timeline.forEach((frame) => {\n        left = Math.max(left, frame.Sprite.ParsedX);\n        right = Math.min(\n          right,\n          frame.Sprite.ParsedX - frame.Sprite.Width * frame.Scale.X,\n        );\n\n        top = Math.max(top, frame.Sprite.ParsedY);\n        bottom = Math.min(\n          bottom,\n          frame.Sprite.ParsedY - frame.Sprite.Height * frame.Scale.Y,\n        );\n      });\n    });\n\n    canvasWidth = left - right;\n    canvasHeight = top - bottom;\n\n    canvas.current!.width = canvasWidth;\n    canvas.current!.height = canvasHeight;\n\n    // load image\n    const imageObj = new Image();\n    imageObj.crossOrigin = 'anonymous';\n    imageObj.src = `${urlBase}/${CardID}/sprite.png`;\n\n    const ctx = canvas.current!.getContext(\n      '2d', { willReadFrequently: true }) as CanvasRenderingContext2D;\n\n    let currentTick = 0;\n\n    gif.current = new GIF({\n      workers: 2,\n      quality: 1,\n      workerScript: '/gif.worker.js',\n      width: canvasWidth,\n      height: canvasHeight,\n      transparent: 'rgba(0,0,0,0)',\n    }).on('finished', (blob: Blob) => {\n      // crate a anchor\n      const url: string = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.style.display = 'none';\n      a.download = `${CardID}-${dot.Name}.gif`;\n      // and click it\n      a.click();\n    });\n\n    let gifStatus = true;\n    let frameId: number | undefined;\n    const imageLoop = () => {\n      try {\n        // request next tick\n        if (timelines.length !== 0 && timelines[0].length !== 1)\n          frameId = window.requestAnimationFrame(imageLoop);\n\n        ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\n        timelines.forEach((timeline) => {\n          const frame = timeline[currentTick];\n          const sprite = frame.Sprite;\n          // set alpha\n          ctx.globalAlpha = frame.Alpha;\n          // draw image\n          ctx.drawImage(\n            imageObj,\n            sprite.X,\n            sprite.Y,\n            sprite.Width,\n            sprite.Height,\n            left - sprite.ParsedX,\n            top - sprite.ParsedY,\n            sprite.Width * frame.Scale.X,\n            sprite.Height * frame.Scale.Y,\n          );\n          // restore alpha\n          ctx.globalAlpha = 1;\n        });\n\n        if (gifStatus && currentTick % 2 === 0) {\n          gif.current!.addFrame(ctx, {\n            copy: true,\n            delay: 1000 / 30,\n          });\n        }\n\n        currentTick++;\n\n        if (currentTick > tickNum) {\n          currentTick = 0;\n          gifStatus = false;\n        }\n      } catch (e) {\n        console.error(e);\n        if (frameId) {\n          window.cancelAnimationFrame(frameId);\n        }\n        imageObj.onload = null;\n        gif.current = null;\n      }\n\n    };\n\n    imageObj.onload = imageLoop;\n\n    return () => {\n      const cv = canvas.current!;\n      const context = cv.getContext('2d')!;\n      context.clearRect(0, 0, cv.width, cv.height);\n      if (frameId) {\n        window.cancelAnimationFrame(frameId);\n      }\n      imageObj.onload = null;\n      gif.current = null;\n    };\n  }, [dot, CardID, urlBase]);\n\n  return (\n    <div>\n      <Tooltip title=\"gif\">\n        <canvas\n          ref={(ref) => ref && (canvas.current = ref)}\n          onClick={() => {\n            gif.current?.render();\n          }}\n        />\n      </Tooltip>\n    </div>\n  );\n};\n\nexport default DotAnimation;\n","import React, { useState } from 'react';\nimport { Dot } from 'interfaces';\nimport DotAnimation from 'Components/DotAnimation';\nimport styles from './DotTable.module.less';\nimport { Button } from 'antd';\n\nconst DotTable: React.FC<{\n  dot: Dot;\n  CardID: number;\n  urlBase: string;\n}> = ({ dot, CardID, urlBase }) => {\n  const [showConfigs, setShowConfigs] = useState(false);\n  return (\n    <table className={styles.table}>\n      <thead>\n        <tr>\n          <th colSpan={3}>{dot.Name}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td style={{ width: 100 }}>{dot.Length}f</td>\n          <td>\n            <DotAnimation urlBase={urlBase} dot={dot} CardID={CardID} />\n          </td>\n          <td style={{ width: 100 }}>\n            <Button\n              type=\"primary\"\n              size=\"small\"\n              onClick={() => setShowConfigs(!showConfigs)}\n              icon={showConfigs ? 'up' : 'down'}\n            />\n          </td>\n        </tr>\n        {showConfigs && (\n          <tr>\n            <td colSpan={3}>\n              {dot.Entries.map((entry, entryIndex) => (\n                <div key={entryIndex}>\n                  {entry.Sprites.map((sprite, index) => {\n                    return (\n                      <div\n                        key={`${entryIndex}-${index}`}\n                        style={{\n                          display: 'inline-block',\n                          width: sprite.Width,\n                          height: sprite.Height,\n                          backgroundImage: `url(\"${urlBase}/${CardID}/sprite.png\")`,\n                          backgroundPositionX: -sprite.X,\n                          backgroundPositionY: -sprite.Y,\n                        }}\n                      />\n                    );\n                  })}\n                </div>\n              ))}\n            </td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  );\n};\n\nexport default DotTable;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport { Spin, Input, message } from 'antd';\nimport styles from './Unit.module.less';\n\nconst ConneNameInput: React.FC<{\n  ConneName: string;\n  CardID: number;\n  onCompleted?: () => any;\n}> = ({ ConneName, CardID, onCompleted }) => {\n  const [setCardMeta, { loading: setCardMetaLoading }] = useMutation<{\n    CardMeta: { ConneName?: string; NickNames?: string[] };\n  }>(\n    gql`\n      mutation($CardID: Int!, $ConneName: String, $NickNames: [String!]) {\n        CardMeta(\n          CardID: $CardID\n          ConneName: $ConneName\n          NickNames: $NickNames\n        ) {\n          ConneName\n          NickNames\n        }\n      }\n    `,\n    { onCompleted },\n  );\n  const [editing, setEditing] = useState(false);\n  const [value, setValue] = useState(ConneName);\n  const ref = useRef<Input>(null);\n\n  useEffect(() => {\n    if (editing && ref.current) {\n      ref.current.focus();\n    }\n  }, [editing]);\n\n  const handleSave = async () => {\n    await setCardMeta({\n      variables: { CardID, ConneName: value },\n    });\n    message.success('');\n    setEditing(false);\n  };\n\n  return editing ? (\n    <Spin spinning={setCardMetaLoading}>\n      <Input\n        ref={ref}\n        value={value}\n        onChange={e => setValue(e.target.value)}\n        onBlur={handleSave}\n        onPressEnter={handleSave}\n      />\n    </Spin>\n  ) : (\n    <div onClick={() => setEditing(true)} className={styles.fakeInput}>\n      {ConneName}\n    </div>\n  );\n};\n\nexport default ConneNameInput;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport { Spin, Select, message, Tag } from 'antd';\nimport styles from './Unit.module.less';\n\nconst NickNamesInput: React.FC<{\n  NickNames: string[];\n  CardID: number;\n  onCompleted?: () => any;\n}> = ({ NickNames, CardID, onCompleted }) => {\n  const [setCardMeta, { loading: setCardMetaLoading }] = useMutation<{\n    CardMeta: { ConneName?: string; NickNames?: string[] };\n  }>(\n    gql`\n      mutation($CardID: Int!, $ConneName: String, $NickNames: [String!]) {\n        CardMeta(\n          CardID: $CardID\n          ConneName: $ConneName\n          NickNames: $NickNames\n        ) {\n          ConneName\n          NickNames\n        }\n      }\n    `,\n    { onCompleted },\n  );\n  const [editing, setEditing] = useState(false);\n  const [value, setValue] = useState(NickNames || []);\n  const ref = useRef<Select<string[]>>(null);\n\n  useEffect(() => {\n    if (editing && ref.current) {\n      ref.current.focus();\n    }\n  }, [editing]);\n\n  const handleSave = async () => {\n    await setCardMeta({\n      variables: { CardID, NickNames: value },\n    });\n    message.success('');\n    setEditing(false);\n  };\n\n  return editing ? (\n    <Spin spinning={setCardMetaLoading}>\n      <Select<string[]>\n        mode=\"tags\"\n        tokenSeparators={[',', ' ']}\n        ref={ref}\n        value={value}\n        onChange={v => setValue(v)}\n        onBlur={handleSave}\n        style={{ width: '100%' }}\n      />\n    </Spin>\n  ) : (\n    <div onClick={() => setEditing(true)} className={styles.fakeInput}>\n      {NickNames &&\n        NickNames.map((name, index) => <Tag key={index}>{name}</Tag>)}\n    </div>\n  );\n};\n\nexport default NickNamesInput;\n","import React, { useState, useRef, useEffect } from 'react';\nimport styles from './Unit.module.less';\nimport { UnitSpeciatyConfig } from 'interfaces';\nimport { useMutation } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport { Input, message, Spin } from 'antd';\nimport classNames from 'classnames';\n\nconst UnitSpecialtyRows: React.FC<{ config: UnitSpeciatyConfig }> = ({\n  config,\n}) => {\n  const [value, setValue] = useState(config.Comment || '');\n\n  const [setUnitConfigMeta, { loading, data }] = useMutation<{\n    UnitConfigMeta?: { TypeID: number; Comment: string };\n  }>(\n    gql`\n      mutation($TypeID: Int!, $Comment: String) {\n        UnitConfigMeta(TypeID: $TypeID, Comment: $Comment) {\n          TypeID\n          Comment\n        }\n      }\n    `,\n    {\n      onCompleted: d => {\n        setValue(d?.UnitConfigMeta?.Comment || '');\n      },\n    },\n  );\n\n  const [editing, setEditing] = useState(false);\n  const ref = useRef<Input>(null);\n\n  useEffect(() => {\n    if (editing && ref.current) {\n      ref.current.focus();\n    }\n  }, [editing]);\n\n  const handleSave = async () => {\n    await setUnitConfigMeta({\n      variables: { TypeID: config.Type_Specialty, Comment: value },\n    });\n    message.success('');\n    setEditing(false);\n  };\n\n  return (\n    <tbody className={styles.configRowGroup}>\n      <tr className={styles.cover}>\n        <td\n          colSpan={8}\n          className={classNames({\n            [styles.blank]: !(data\n              ? data.UnitConfigMeta?.Comment\n              : config.Comment),\n          })}\n        >\n          {editing ? (\n            <Spin spinning={loading}>\n              <Input\n                size=\"small\"\n                ref={ref}\n                value={value}\n                onChange={e => setValue(e.target.value)}\n                onBlur={handleSave}\n                onPressEnter={handleSave}\n              />\n            </Spin>\n          ) : (\n            <div\n              className={classNames(styles.fakeInput, styles.small)}\n              onClick={() => setEditing(true)}\n            >\n              {data ? data.UnitConfigMeta?.Comment : config.Comment}\n            </div>\n          )}\n        </td>\n      </tr>\n\n      <tr>\n        <td>{config.Type_Specialty}</td>\n        <td>{config.Value_Specialty}</td>\n        <td>{config.Value_Param1}</td>\n        <td>{config.Value_Param2}</td>\n        <td>{config.Value_Param3}</td>\n        <td>{config.Value_Param4}</td>\n      </tr>\n      {!!config.Command && (\n        <tr>\n          <td colSpan={6}>{config.Command}</td>\n        </tr>\n      )}\n    </tbody>\n  );\n};\n\nconst UnitSpecialtyTable: React.FC<{ configs: UnitSpeciatyConfig[] }> = ({\n  configs,\n}) => {\n  return (\n    <table className={styles.table}>\n      <thead>\n        <tr>\n          <th></th>\n          <th></th>\n          <th>p1</th>\n          <th>p2</th>\n          <th>p3</th>\n          <th>p4</th>\n        </tr>\n        <tr>\n          <th colSpan={6}>cmd</th>\n        </tr>\n      </thead>\n      {configs.map((config, index) => (\n        <UnitSpecialtyRows config={config} key={index} />\n      ))}\n    </table>\n  );\n};\n\nexport default UnitSpecialtyTable;\n","import React, { useEffect, useState } from 'react';\nimport { Button, Icon, Tag, Radio, Row, Col } from 'antd';\nimport _ from 'lodash';\nimport { Link } from 'react-router-dom';\nimport useRouter from 'use-react-router';\nimport {\n  ICO_URL,\n  BONUS_TYPE,\n  PLAYER_STAND_CG_URL,\n  PLAYER_HARLEM_CG_URL,\n  PLAYER_DOT_URL,\n} from 'consts';\nimport styles from './Unit.module.less';\nimport { Data, query } from './types';\nimport Rarity from 'Components/Rarity';\nimport Gender from 'Components/Gender';\nimport Loading from 'Components/Loading';\nimport { useQuery } from '@apollo/react-hooks';\nimport classNames from 'classnames';\nimport SkillTable from 'Components/SkillTable';\nimport AbilityTable from 'Components/AbilityTable';\nimport ClassTable from 'Components/ClassTable';\nimport { Card, ClassData } from 'interfaces';\nimport DotTable from 'Components/DotTable';\nimport ConneNameInput from './ConneNameInput';\nimport NickNamesInput from './NickNamesInput';\nimport MediaContext from 'context/MediaContext';\nimport UnitSpecialtyTable from './UnitSpecialtyTable';\n\nfunction countMinMax(\n  min: number,\n  max: number,\n  maxLevel: number,\n  maxLevelUnit: number,\n  mod: number,\n) {\n  return [\n    Math.ceil((mod / 100) * (min + (max - min) * (1 / maxLevel))),\n    Math.ceil((mod / 100) * (min + (max - min) * (maxLevelUnit / maxLevel))),\n  ];\n}\n\nfunction classDataToUnit(\n  classData: ClassData,\n  card: Card,\n  nearRange?: { [k: string]: number },\n) {\n  let maxLevelUnit = 0;\n  const rarity = Number.parseInt(card.Rare, 10);\n  switch (classData.Type) {\n    case 'Evo2a':\n    case 'Evo2b':\n      maxLevelUnit = 99;\n      break;\n    case 'Evo':\n      if (rarity === 3) maxLevelUnit = 80;\n      if (rarity === 4) maxLevelUnit = 90;\n      if (rarity === 5) maxLevelUnit = 99;\n      if (rarity === 7) maxLevelUnit = 85;\n      if (rarity === 10) maxLevelUnit = 90;\n      if (rarity === 11) maxLevelUnit = 99;\n      break;\n    case 'Init':\n      if (rarity === 0) {\n        maxLevelUnit = 30;\n        break;\n      }\n      if (rarity === 1) {\n        maxLevelUnit = 40;\n        break;\n      }\n      if (\n        classData.Data_ExtraAwakeOrbs?.length === 0 &&\n        classData.JobChange !== 0\n      ) {\n        maxLevelUnit = 50;\n        break;\n      }\n    // eslint-disable-next-line no-fallthrough\n    case 'CC':\n      if (rarity === 2) maxLevelUnit = 55;\n      if (rarity === 3) maxLevelUnit = 60;\n      if (rarity === 4) maxLevelUnit = 70;\n      if (rarity === 5) maxLevelUnit = classData.MaxLevel;\n      if (rarity === 7) maxLevelUnit = 65;\n      break;\n  }\n\n  return {\n    ...classData,\n    HP: countMinMax(\n      classData.InitHP,\n      classData.MaxHP,\n      classData.MaxLevel,\n      maxLevelUnit,\n      card.MaxHPMod,\n    ),\n    Atk: countMinMax(\n      classData.InitAtk,\n      classData.MaxAtk,\n      classData.MaxLevel,\n      maxLevelUnit,\n      card.AtkMod,\n    ),\n    Def: countMinMax(\n      classData.InitDef,\n      classData.MaxDef,\n      classData.MaxLevel,\n      maxLevelUnit,\n      card.DefMod,\n    ),\n    Cost: [\n      classData.Cost + Number.parseInt(card.CostModValue, 10),\n      classData.Cost +\n        Number.parseInt(card.CostModValue, 10) -\n        Number.parseInt(card.CostDecValue, 10),\n    ],\n    range:\n      nearRange && nearRange[classData.Type] !== 0\n        ? nearRange[classData.Type]\n        : classData.AtkArea,\n    maxLevelUnit,\n  };\n}\n\nconst getStatus = (card: Data['Card']) => {\n  const { BattleStyle } = card.Classes[0];\n  const ranges = BattleStyle && {\n    Init: BattleStyle._Range_01,\n    CC: BattleStyle._Range_02,\n    Evo: BattleStyle._Range_03,\n    Evo2a: BattleStyle._Range_04,\n    Evo2b: BattleStyle._Range_05,\n  };\n  // const rarity = card.Rare\n\n  const classes = [...card.Classes];\n\n  if (card._AwakePattern === 1 || card._AwakePattern === 2) {\n    const index = classes.findIndex(\n      (cl) => cl.Type === `Evo2${card._AwakePattern === 1 ? 'b' : 'a'}`,\n    );\n    if (classes.length >= 4) classes.splice(index, 1);\n  }\n\n  return classes.map((cl) => classDataToUnit(cl, card, ranges));\n};\n\nconst Unit: React.FC = () => {\n  const { match } = useRouter<{ CardID: string }>();\n  const CardID = Number.parseInt(match.params.CardID, 10);\n\n  const [currentImg, setCurrentImg] = useState('');\n  const [currentText, setCurrentText] = useState<number>();\n\n  const [avatars, setAvatars] = useState([0, 1, 2, 3]);\n\n  const { isTabletOrMobile } = MediaContext.useContainer();\n\n  const { loading, data, refetch } = useQuery<Data>(query, {\n    variables: { id: CardID },\n    fetchPolicy: 'network-only',\n  });\n\n  if (data) {\n    if (Number.parseInt(data.Card.Rare, 10) >= 10)\n      data.Card.Classes = data.Card.Classes.filter((cl) => cl.Type === 'Evo');\n  }\n\n  useEffect(() => {\n    if (data?.Card.ImageStand?.[0]) {\n      setCurrentImg(data.Card.ImageStand[0]);\n    }\n  }, [data]);\n\n  return (\n    <div className={styles.container}>\n      <Loading spinning={loading}>\n        {data && !_.isEmpty(data) && (\n          <div>\n            <h1 className=\"unit-title\">\n              <Link to={`/quest/${CardID - 1}`}>\n                <Icon type=\"left\" />\n              </Link>\n\n              <Gender gender={data.Card.Kind} />\n              <div style={{ display: 'inline-block' }}>\n                <Rarity rare={Number.parseInt(data.Card.Rare)} />\n                <div>{data.Card.Name}</div>\n              </div>\n              <Link to={`/unit/${CardID + 1}`}>\n                <Icon type=\"right\" />\n              </Link>\n            </h1>\n            <p>\n              {data.Card.RaceName && (\n                <span>\n                  <Tag>{data.Card.RaceName}</Tag>\n                </span>\n              )}\n              {data.Card.AssignName && (\n                <span>\n                  <Tag color=\"magenta\">{data.Card.AssignName}</Tag>\n                </span>\n              )}\n              {data.Card.IdentityName && (data.Card.IdentityName.map((name, i) => {\n                return (\n                  <span key={i}>\n                    <Tag color=\"black\">{name}</Tag>\n                  </span>);\n              }))}\n              {data.Card.GenusName && (\n                <span>\n                  <Tag color=\"blue\">{data.Card.GenusName}</Tag>\n                </span>\n              )}\n            </p>\n            <div className={styles.previewContainer}>\n              <div\n                className={classNames(styles.outerRadioContainer, {\n                  [styles.inset]: !isTabletOrMobile,\n                })}\n              >\n                <div className={styles.radioContainer}>\n                  <Radio.Group\n                    onChange={(e) => setCurrentImg(e.target.value)}\n                    value={currentImg}\n                    className={styles.radioGroup}\n                  >\n                    {data.Card.ImageStand.map((imgName, index) => (\n                      <Radio.Button key={imgName} value={imgName}>\n                        \n                        {Number.parseInt(imgName[imgName.length - 5], 10) + 1}\n                      </Radio.Button>\n                    ))}\n                  </Radio.Group>\n                  <Radio.Group\n                    onChange={(e) => setCurrentImg(e.target.value)}\n                    value={currentImg}\n                    className={classNames(styles.radioGroup, styles.danger)}\n                  >\n                    {data.Card.ImageCG.map((imgName, index) => (\n                      <Radio.Button key={imgName} value={imgName}>\n                        CG{Number.parseInt(imgName[imgName.length - 5], 10) + 1}\n                      </Radio.Button>\n                    ))}\n                  </Radio.Group>\n                </div>\n                <div className={styles.radioContainer}>\n                  <Radio.Group\n                    onChange={(e) => setCurrentText(e.target.value)}\n                    value={currentText}\n                    className={styles.radioGroup}\n                  >\n                    {data.Card.HarlemTextA.map((_, index) => (\n                      <Radio.Button key={`a${index}`} value={index}>\n                        {index + 1}\n                      </Radio.Button>\n                    ))}\n                  </Radio.Group>\n                  <Radio.Group\n                    onChange={(e) => setCurrentText(e.target.value)}\n                    value={currentText}\n                    className={classNames(styles.radioGroup, styles.danger)}\n                  >\n                    {data.Card.HarlemTextR.map((_, index) => (\n                      <Radio.Button key={`r${index}`} value={index + 10}>\n                        {index + 1}\n                      </Radio.Button>\n                    ))}\n                  </Radio.Group>\n                </div>\n              </div>\n              <div className={styles.outerImageContainer}>\n                <div className={styles.imageContainer}>\n                  {currentText !== undefined && (\n                    <div\n                      className={classNames(styles.textContainer, {\n                        [styles.fullScreen]: isTabletOrMobile,\n                      })}\n                    >\n                      <Button\n                        ghost\n                        shape=\"circle\"\n                        onClick={() => setCurrentText(undefined)}\n                        className={styles.closeButton}\n                      >\n                        <Icon type=\"close\" />\n                      </Button>\n                      <div\n                        className={styles.text}\n                        dangerouslySetInnerHTML={{\n                          __html: (currentText < 10\n                            ? data.Card.HarlemTextA[currentText]\n                            : data.Card.HarlemTextR[currentText - 10]\n                          )\n                            .replace(\n                              /([@].*\\r?\\n)/g,\n                              (match, p1) =>\n                                `<span style=\"font-weight: bold\">${p1}</span>`,\n                            )\n                            .replace(/\\r?\\n/g, '<br />'),\n                        }}\n                      />\n                    </div>\n                  )}\n                  <img\n                    style={{ height: '100%' }}\n                    src={\n                      currentImg.includes('card')\n                        ? `${PLAYER_STAND_CG_URL}/${currentImg}`\n                        : `${PLAYER_HARLEM_CG_URL}/${currentImg}`\n                    }\n                    alt={currentImg.toString()}\n                  />\n                </div>\n              </div>\n            </div>\n\n            <table className={styles.table}>\n              <tbody>\n                <tr>\n                  <th></th>\n                  <td colSpan={5}>\n                    {avatars.map((avatar) => (\n                      <img\n                        key={avatar}\n                        src={`${ICO_URL}/${avatar}/${CardID}.png`}\n                        alt={`${CardID}-${avatar}`}\n                        onError={() => {\n                          const index = avatars.findIndex((a) => a === avatar);\n                          setAvatars([\n                            ...avatars.slice(0, index),\n                            ...avatars.slice(index + 1),\n                          ]);\n                        }}\n                      />\n                    ))}\n                  </td>\n                </tr>\n                <tr>\n                  <th></th>\n                  <td colSpan={5}>{data.Card.IllustName}</td>\n                </tr>\n                <tr>\n                  <th></th>\n                  <td colSpan={5}>\n                    <NickNamesInput\n                      NickNames={data.Card.NickNames}\n                      CardID={CardID}\n                      onCompleted={refetch}\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <th></th>\n                  <td colSpan={5}>\n                    <ConneNameInput\n                      ConneName={data.Card.ConneName}\n                      CardID={CardID}\n                      onCompleted={refetch}\n                    />\n                  </td>\n                </tr>\n                <tr>\n                  <th></th>\n                  <td colSpan={5}>{data.Card.HomeCooking}</td>\n                </tr>\n                <tr>\n                  <th></th>\n                  <td colSpan={2}>{data.Card.SellPrice}</td>\n                  <th></th>\n                  <td colSpan={2}>{data.Card._TradePoint}</td>\n                </tr>\n                <tr>\n                  <th></th>\n                  <td colSpan={5}>{data.Card.MagicResistance}</td>\n                </tr>\n                <tr>\n                  <th>HP</th>\n                  <td>{data.Card.MaxHPMod / 100}</td>\n                  <th>Atk</th>\n                  <td>{data.Card.AtkMod / 100}</td>\n                  <th>Def</th>\n                  <td>{data.Card.DefMod / 100}</td>\n                </tr>\n                <tr>\n                  <th>1</th>\n                  <td>\n                    {data.Card.BonusType !== 0 &&\n                      BONUS_TYPE.get(data.Card.BonusType).replace(\n                        '%d',\n                        Math.ceil(data.Card.BonusNum * 1.2),\n                      )}\n                  </td>\n                  <th>2</th>\n                  <td>\n                    {data.Card.BonusType2 !== 0 &&\n                      BONUS_TYPE.get(data.Card.BonusType2).replace(\n                        '%d',\n                        Math.ceil(data.Card.BonusNum2 * 1.2),\n                      )}\n                  </td>\n                  <th>150</th>\n                  <td>\n                    {data.Card.BonusType3 !== 0 &&\n                      BONUS_TYPE.get(data.Card.BonusType3).replace(\n                        '%d',\n                        Math.ceil(data.Card.BonusNum3),\n                      )}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n\n            <table className={styles.table}>\n              <thead>\n                <tr>\n                  <th></th>\n                  <th></th>\n                  <th>HP</th>\n                  <th></th>\n                  <th></th>\n                  <th></th>\n                  <th></th>\n                  <th>Cost</th>\n                </tr>\n              </thead>\n              <thead>\n                {getStatus(data.Card).map((st, index) => (\n                  <React.Fragment key={st.ClassID}>\n                    <tr>\n                      <td rowSpan={2}>\n                        {st.Type === 'Evo2a' && (\n                          <span style={{ color: '#1890ff' }}>(A) </span>\n                        )}\n                        {st.Type === 'Evo2b' && (\n                          <span style={{ color: '#52c41a' }}>(B) </span>\n                        )}\n                        {st.Name}\n                      </td>\n                      <td>1</td>\n                      <td>{st.HP[0]}</td>\n                      <td>{st.Atk[0]}</td>\n                      <td>{st.Def[0]}</td>\n                      <td rowSpan={2}>{st.range}</td>\n                      <td rowSpan={2}>{st.BlockNum}</td>\n                      <td rowSpan={2}>\n                        {st.Cost[0]}/{st.Cost[1]}\n                      </td>\n                    </tr>\n                    <tr>\n                      <td>{st.maxLevelUnit}</td>\n                      <td>{st.HP[1]}</td>\n                      <td>{st.Atk[1]}</td>\n                      <td>{st.Def[1]}</td>\n                    </tr>\n                  </React.Fragment>\n                ))}\n              </thead>\n            </table>\n\n            <div>\n              <h2></h2>\n              {data.Card.Skills.map((skillWithType, index) => (\n                <SkillTable\n                  skills={skillWithType.Skills}\n                  type={skillWithType.Type}\n                  key={index}\n                />\n              ))}\n            </div>\n\n            <div>\n              <h2></h2>\n              {_.uniqBy(data.Card.Abilities, 'AbilityID').map((ability) => (\n                <AbilityTable key={ability.AbilityID} ability={ability} />\n              ))}\n            </div>\n\n            {data.Card.SpecialtyConfigs.length > 0 && (\n              <div>\n                <h2></h2>\n                <UnitSpecialtyTable configs={data.Card.SpecialtyConfigs} />\n              </div>\n            )}\n\n            <div>\n              <h2></h2>\n              {data.Card.Classes.map((cl) => (\n                <ClassTable\n                  classData={cl}\n                  key={cl.ClassID}\n                  onCompleted={refetch}\n                />\n              ))}\n            </div>\n\n            {data.Card.Dots && (\n              <div>\n                <h2></h2>\n                <Row gutter={8}>\n                  {data.Card.Dots.map((dot, index) => (\n                    <Col key={index} sm={24} md={12}>\n                      <DotTable\n                        dot={dot}\n                        CardID={data.Card.CardID}\n                        urlBase={PLAYER_DOT_URL}\n                      />\n                    </Col>\n                  ))}\n                </Row>\n              </div>\n            )}\n          </div>\n        )}\n      </Loading>\n    </div>\n  );\n};\n\nexport default Unit;\n","import React, { useState, useEffect } from 'react';\nimport { Layout, Input, Row, Col, Icon, Drawer, Tag } from 'antd';\nimport { FixedSizeList as List } from 'react-window';\nimport gql from 'graphql-tag';\nimport useRouter from 'use-react-router';\nimport classNames from 'classnames';\nimport { useMediaQuery } from 'react-responsive';\nimport { Card } from './types';\nimport UnitListCard from './UnitListCard';\nimport styles from './UnitList.module.less';\nimport Unit from '../Unit';\nimport Loading from '../../Loading';\nimport { useQuery } from '@apollo/react-hooks';\n\nconst { Content } = Layout;\n\ninterface Data {\n  Cards: Card[];\n}\n\ninterface Props {\n  data?: Data;\n  loading: boolean;\n}\n\nconst FILTER_TYPE: { [k: string]: string } = {\n  Rare: '',\n  RaceName: '',\n  AssignName: '',\n  GenusName: '',\n  IdentityName: '',\n  IllustName: '',\n  'Classes.0.Name': '',\n};\n\nconst UnitList: React.FC<Props> = ({ data, loading }) => {\n  const [sorter, setSorter] = useState({ key: 'CardID', order: true });\n  const [search, setSearch] = useState('');\n  const [filters, setFilters] = useState<\n    Array<{ content: string; type: string }>\n  >([]);\n\n  // react-window\n  const [size, setSize] = useState({ width: 0, height: 0 });\n  const [scrolled, setScrolled] = useState(0);\n\n  const { match, history } = useRouter<{ CardID: string }>();\n  const { CardID } = match.params;\n\n  const isTabletOrMobile = useMediaQuery({ query: '(max-width: 991px)' });\n\n  useEffect(() => {\n    const main = document.getElementsByTagName('main')[0];\n    const handleResize = () => {\n      const width = main.offsetWidth - 60;\n      const height = main.offsetHeight - 150;\n      setSize({ width, height });\n    };\n    window.onresize = handleResize;\n    handleResize();\n    return () => {\n      window.onresize = null;\n    };\n  }, []);\n\n  // \n  const genSorter = (title: string, key: string) => {\n    return (\n      <div\n        style={{ cursor: 'pointer' }}\n        onClick={() =>\n          setSorter({ key, order: key === sorter.key ? !sorter.order : true })\n        }\n      >\n        {title}\n        {sorter.key === key && (\n          <Icon type={sorter.order ? 'caret-down' : 'caret-up'} />\n        )}\n      </div>\n    );\n  };\n\n  const getParam = (target: any, keys: string) => {\n    keys.split('.').forEach((st: string) => {\n      if(target) { target = target[st]; }\n    });\n    return target;\n  };\n\n  const cardSorter = (cardA: any, cardB: any) => {\n    const { key, order } = sorter;\n    const paramA = getParam(cardA, key);\n    const paramB = getParam(cardB, key);\n    if (typeof paramA === 'number') {\n      return order ? paramA - paramB : paramB - paramA;\n    } else {\n      if (paramA > paramB) {\n        return order ? 1 : -1;\n      } else if (paramA < paramB) {\n        return order ? -1 : 1;\n      } else {\n        return 0;\n      }\n    }\n  };\n\n  const cardFilter = (card: any) => {\n    let flag = JSON.stringify(card).includes(search);\n    if (flag) {\n      filters.forEach((filter) => {\n        const { type, content } = filter;\n        const sourceValue = getParam(card, type);\n        if (typeof sourceValue === 'number') {\n          flag = flag && (sourceValue === Number.parseInt(content, 10));\n        } else if (typeof sourceValue === 'string') {\n          flag = flag && (sourceValue === content);\n        } else if (Array.isArray(sourceValue)) {\n          flag = flag && (sourceValue.includes(content));\n        } else {\n          // Unreachable\n          flag = false;\n        }\n      });\n    }\n    return flag;\n  };\n\n  const handleSetFilter = (content: string, type: string) => {\n    const filter = filters.find(\n      (f) => f.content === content && f.type === type,\n    );\n    if (!filter) {\n      setFilters((fs) => [...fs, { content, type }]);\n    }\n  };\n\n  const showUnit = (cardID: string) => {\n    history.push({\n      pathname: `/unit/${cardID}`,\n      state: { modal: true },\n    });\n  };\n\n  const cards =\n    (data &&\n      data.Cards &&\n      data.Cards.slice()\n        .map((card) => ({\n          ...card,\n          CardID: Number.parseInt(card.CardID, 10),\n        }))\n        .filter(cardFilter)\n        .sort(cardSorter)) ||\n    [];\n\n  return (\n    <Content className={styles.unitListContent}>\n      <Input\n        placeholder=\"\"\n        value={search}\n        onChange={(event) => setSearch(event.target.value)}\n      />\n      <div className={styles.filterContainer}>\n        {filters.map((filter, index) => {\n          return (\n            <Tag\n              key={index + filter.content}\n              closable\n              onClose={() => {\n                const i = filters.findIndex(\n                  (f) => f.content === filter.content && f.type === filter.type,\n                );\n                setFilters([...filters.slice(0, i), ...filters.slice(i + 1)]);\n              }}\n            >\n              {FILTER_TYPE[filter.type]}{filter.content}\n            </Tag>\n          );\n        })}\n      </div>\n      <Row\n        className={classNames(styles.sorterBlock, {\n          [styles.shadow]: scrolled !== 0,\n        })}\n      >\n        <Col md={4} xs={8}>\n          {genSorter('#', 'CardID')}\n        </Col>\n        <Col md={4} xs={16}>\n          {genSorter('', 'Name')}\n        </Col>\n        <Col lg={6} xs={0}>\n          {genSorter('', 'RaceName')}\n        </Col>\n        <Col lg={5} md={8} xs={0}>\n          {genSorter('', 'Classes.0.Name')}\n        </Col>\n        <Col lg={5} md={8} xs={0}>\n          {genSorter('', 'IllustName')}\n        </Col>\n      </Row>\n      <div className={styles.listContainer}>\n        {!loading ? (\n          <List\n            height={size.height}\n            itemCount={cards.length}\n            itemSize={68}\n            width={size.width}\n            onScroll={({ scrollOffset }) => setScrolled(scrollOffset)}\n          >\n            {({ index, style }) => (\n              <div key={cards[index].CardID} style={style}>\n                <UnitListCard\n                  card={{\n                    ...cards[index],\n                    CardID: String(cards[index].CardID),\n                  }}\n                  showUnit={showUnit}\n                  setFilter={handleSetFilter}\n                />\n              </div>\n            )}\n          </List>\n        ) : (\n          <Loading />\n        )}\n      </div>\n      <Drawer\n        width={isTabletOrMobile ? '100%' : '80%'}\n        visible={!!CardID}\n        destroyOnClose\n        onClose={() => history.push('/unit')}\n        getContainer={false}\n        style={{ position: 'absolute' }}\n      >\n        {CardID && <Unit />}\n      </Drawer>\n    </Content>\n  );\n};\n\nconst UnitListWrapper: React.FC = (props) => {\n  const { data, loading } = useQuery(\n    gql`\n      query {\n        Cards {\n          CardID\n          Name\n          Rare\n          Kind\n          IllustName\n          RaceName\n          AssignName\n          IdentityName\n          GenusName\n          NickNames\n          Classes {\n            Name\n          }\n        }\n      }\n    `,\n  );\n  return <UnitList {...props} data={data} loading={loading} />;\n};\n\nexport default UnitListWrapper;\n","export const MISSION_TYPE: { [k: string]: string } = {\n  Assault: '',\n  Story: '',\n  Emergency: '',\n  Reproduce: '',\n  DailyReproduce: '',\n  Subjugation: '',\n  DevilAdvent: '',\n  Harlem: '',\n  Daily: '',\n  Challenge: '',\n  Tutorial: '',\n  Tower: '',\n  Raid: '',\n  Colosseum: '',\n  Empire: '',\n  History: '',\n  Training: ''\n};\n\nexport interface QuestData {\n  Name: string;\n  QuestID: number;\n  Charisma: number;\n  ActionPoint: number;\n}\n","import React from 'react';\nimport { Spin, Tag } from 'antd';\nimport gql from 'graphql-tag';\nimport { QuestData } from './types';\nimport useRouter from 'use-react-router';\nimport { useQuery } from '@apollo/react-hooks';\nimport styles from './QuestList.module.less';\n\nconst MissionShutter: React.FC<{ mission: any; isTabletOrMobile: boolean }> = ({\n  mission,\n  isTabletOrMobile,\n}) => {\n  const { history } = useRouter();\n\n  const showQuest = (questID: number) => {\n    history.push(`/quest/${questID}`);\n  };\n\n  const { loading, data } = useQuery<{ Mission: { Quests: QuestData[] } }>(\n    gql`\n      query($MissionID: Int!) {\n        Mission(MissionID: $MissionID) {\n          Quests {\n            Name\n            QuestID\n            Charisma\n            ActionPoint\n          }\n        }\n      }\n    `,\n    { variables: { MissionID: mission.MissionID } },\n  );\n  return loading ? (\n    <Spin />\n  ) : data!.Mission.Quests.length === 0 ? (\n    <div></div>\n  ) : (\n    <div>\n      {data!.Mission.Quests.map(quest => (\n        <div\n          key={quest.QuestID}\n          className={styles.listCard}\n          onClick={showQuest.bind(null, quest.QuestID)}\n        >\n          <span>{quest.QuestID}</span>\n          &nbsp;\n          <strong>{quest.Name}</strong>\n          <div\n            style={{\n              display: isTabletOrMobile ? 'block' : 'inline-block',\n              float: isTabletOrMobile ? 'none' : 'right',\n            }}\n          >\n            {quest.Charisma !== 0 && <Tag color=\"green\">{quest.Charisma}</Tag>}\n            {quest.ActionPoint !== 0 && (\n              <Tag color=\"red\">{quest.ActionPoint}</Tag>\n            )}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default MissionShutter;\n","import { ICO_URL } from 'consts';\n\nexport function getTreasureURI(treasure: number): string {\n  return `${ICO_URL}/0/${\n    (treasure >= 1000 && treasure < 1000000 ?\n    '_' + treasure :\n    treasure >= 1001000 ?\n    treasure - 1000000 :\n    treasure\n    )\n    }.png`;\n}\n","import React from 'react';\nimport { ICO_URL, BATTLE_TALK_EVENT_URL } from 'consts';\nimport { renderDescription } from 'utils';\n\nconst TalkRow: React.FC<{\n  talk: { Name: string; FaceID: number; Message: string };\n  MissionID: number;\n  isTabletOrMobile: boolean;\n}> = ({ talk, MissionID, isTabletOrMobile }) => {\n  return (\n    <tr>\n      <th>\n        {talk.Name}\n        <img\n          style={{\n            display: 'block',\n            margin: 'auto',\n            width: '100%',\n          }}\n          alt={talk.FaceID.toString()}\n          src={\n            talk.FaceID < 1000\n              ? `${BATTLE_TALK_EVENT_URL}/${MissionID}/${talk.FaceID}.png`\n              : talk.FaceID < 2000\n              ? `${ICO_URL}/0/${talk.FaceID - 1000}.png`\n              : talk.FaceID < 1001000\n              ? `${ICO_URL}/1/${talk.FaceID - 2000}.png`\n              : talk.FaceID < 1201000\n              ? `${ICO_URL}/0/${talk.FaceID - 1000000}.png`\n              : `${ICO_URL}/1/${talk.FaceID - 1200000}.png`\n          }\n        />\n      </th>\n      <td colSpan={9}>\n        <div\n          dangerouslySetInnerHTML={{\n            __html: renderDescription(talk.Message),\n          }}\n          style={{\n            margin: 'auto',\n            textAlign: 'left',\n            maxWidth: '30em',\n          }}\n        />\n      </td>\n    </tr>\n  );\n};\n\nexport default TalkRow;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { Button, Divider, Row, Col, Switch, Input, message, Spin } from 'antd';\nimport { ENEMY_DOT_URL, ENEMY_CHANGE_COND } from 'consts';\nimport { getTreasureURI } from './common';\nimport styles from './Quest.module.less';\nimport {\n  Dot,\n  Enemy,\n  MapEntry,\n  EnemySpecialtyConfig,\n  MapRoute,\n} from 'interfaces';\nimport { useMediaQuery } from 'react-responsive';\nimport DotTable from 'Components/DotTable';\nimport TalkRow from 'Components/TalkRow';\nimport { Quest as QuestType } from 'interfaces';\nimport MissileTable from 'Components/MissileTable';\nimport { useMutation } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport classNames from 'classnames';\n\nconst getAttackSpeed = (enemy: Enemy & MapEntry, dots: Dot[]) => {\n  let length = 0;\n  for (const dot of dots) {\n    if (dot.Name === 'Attack') {\n      length = dot.Length;\n    }\n  }\n  // don't know why\n  if (!length) {\n    return null;\n  }\n  let attackSpeed = enemy.AttackWait * 2 + length;\n  if (!enemy.ATTACK_RANGE) {\n    attackSpeed += enemy.ATTACK_SPEED;\n  }\n  return attackSpeed;\n};\n\nconst EnemyConfigTableRows: React.FC<{ config: EnemySpecialtyConfig }> = ({\n  config,\n}) => {\n  const [value, setValue] = useState(config.Comment || '');\n\n  const [setEnemyConfigMeta, { loading, data }] = useMutation<{\n    EnemyConfigMeta?: { TypeID: number; Comment: string };\n  }>(\n    gql`\n      mutation ($TypeID: Int!, $Comment: String) {\n        EnemyConfigMeta(TypeID: $TypeID, Comment: $Comment) {\n          TypeID\n          Comment\n        }\n      }\n    `,\n    {\n      onCompleted: (d) => {\n        setValue(d?.EnemyConfigMeta?.Comment || '');\n      },\n    },\n  );\n\n  const [editing, setEditing] = useState(false);\n  const ref = useRef<Input>(null);\n\n  useEffect(() => {\n    if (editing && ref.current) {\n      ref.current.focus();\n    }\n  }, [editing]);\n\n  const handleSave = async () => {\n    await setEnemyConfigMeta({\n      variables: { TypeID: config.Type_Influence, Comment: value },\n    });\n    message.success('');\n    setEditing(false);\n  };\n\n  return (\n    <tbody className={styles.configRowGroup}>\n      <tr className={styles.cover}>\n        <td\n          colSpan={8}\n          className={classNames({\n            [styles.blank]: !(data\n              ? data.EnemyConfigMeta?.Comment\n              : config.Comment),\n          })}\n        >\n          {editing ? (\n            <Spin spinning={loading}>\n              <Input\n                size=\"small\"\n                ref={ref}\n                value={value}\n                onChange={(e) => setValue(e.target.value)}\n                onBlur={handleSave}\n                onPressEnter={handleSave}\n              />\n            </Spin>\n          ) : (\n            <div\n              className={classNames(styles.fakeInput, styles.small)}\n              onClick={() => setEditing(true)}\n            >\n              {data ? data.EnemyConfigMeta?.Comment : config.Comment}\n            </div>\n          )}\n        </td>\n      </tr>\n\n      <tr>\n        <td>{config.Type_Influence}</td>\n        <td>{config.Param_1}</td>\n        <td>{config.Param_2}</td>\n        <td>{config.Param_3}</td>\n        <td>{config.Param_4}</td>\n      </tr>\n\n      {!!(config._Expression || config._ExtParam) && (\n        <tr>\n          <td colSpan={3}>{config._Expression}</td>\n          <td colSpan={2}>{config._ExtParam}</td>\n        </tr>\n      )}\n    </tbody>\n  );\n};\n\ninterface EnemyTableRowsProps {\n  enemies: Array<Enemy & MapEntry>;\n  drops: string[];\n  isTabletOrMobile: boolean;\n  routes: MapRoute[][];\n}\n\n// enemy group (with change)\nconst EnemyTableRows: React.FC<EnemyTableRowsProps> = ({\n  enemies,\n  drops,\n  isTabletOrMobile,\n  routes,\n}) => {\n  const [expand, setExpand] = useState(false);\n  const [showTable, setShowTable] = useState<boolean[]>(\n    Array(enemies.length).fill(false),\n  );\n\n  const routeNos = [enemies[0].RouteNo];\n  let f = false;\n  for (let i = 0; i < routeNos.length; i++) {\n    const routeNo = routeNos[i];\n    for (const route of routes[routeNo]) {\n      // route\n      if (route.RouteID !== 0 && (!routeNos.includes(route.RouteID) || !f)) {\n        if (routeNos.includes(route.RouteID)) {\n          f = true;\n        }\n        routeNos.push(route.RouteID);\n        break;\n      }\n    }\n  }\n\n  return (\n    <>\n      {enemies.slice(0, expand ? enemies.length : 1).map((e, index) => {\n        const dots = e.Dots;\n        const previewSprite = dots?.[0].Entries[0].Sprites[0];\n        const types = [\n          e.SkyFlag && '',\n          e.EnemyElem._EnemyElementName,\n          e.EnemyType._EnemyTypeName,\n          e._Attribute,\n        ]\n          .filter((st) => st && st !== '')\n          .join(' ');\n        const changeCondition = e.Param_ChangeParam\n          ? ENEMY_CHANGE_COND[e.Param_ChangeCondition]\n          : null;\n        const imgID = (e.PatternID >> 4) & 0x1fff;\n        const dropImg =\n          e.PrizeCardID !== 0 ? (\n            <img\n              src={drops[e.PrizeCardID - 1]}\n              alt={e.PrizeCardID.toString()}\n              style={{ width: 40 }}\n            />\n          ) : null;\n        return (\n          <React.Fragment key={index}>\n            <tr\n              className={styles.compact}\n              style={{ cursor: 'pointer' }}\n              onClick={() =>\n                setShowTable((st) =>\n                  st.map((v, i) => {\n                    if (i === index) return !v;\n                    return v;\n                  }),\n                )\n              }\n            >\n              <td style={{ textAlign: 'left' }}>\n                {enemies.length > 1 && index === 0 && (\n                  <Button\n                    icon={expand ? 'minus' : 'plus'}\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      setExpand((e) => !e);\n                    }}\n                    style={{\n                      width: 20,\n                      height: 20,\n                      fontSize: 10,\n                      marginRight: 5,\n                    }}\n                  />\n                )}\n                {enemies.length > 1 && index !== 0 && (\n                  <Divider style={{ margin: '0 12.5px' }} type=\"vertical\" />\n                )}\n                {previewSprite && (\n                  <div\n                    style={{\n                      display: 'inline-block',\n                      width: previewSprite.Width,\n                      height: previewSprite.Height,\n                      backgroundImage: `url(\"${ENEMY_DOT_URL}/${imgID}/sprite.png\")`,\n                      backgroundPositionX: -previewSprite.X,\n                      backgroundPositionY: -previewSprite.Y,\n                      zoom: Math.min(\n                        40 / previewSprite.Height,\n                        40 / previewSprite.Width,\n                      ),\n                      verticalAlign: 'middle',\n                    }}\n                  />\n                )}\n              </td>\n              {!isTabletOrMobile && <td>{types}</td>}\n              <td>\n                {dots && getAttackSpeed(e, dots)}\n                <br />\n                {Math.ceil((e.ATTACK_RANGE * e.DotRate) / 1.5)}\n              </td>\n              <td>{e.HP}</td>\n              <td\n                style={{\n                  background:\n                    e.TypeAttack === 300\n                      ? '#ffdad2'\n                      : e.MagicAttack\n                      ? '#c8f1bb'\n                      : '#ccecff',\n                }}\n              >\n                {e.ATTACK_POWER}\n              </td>\n              <td>\n                {e.ARMOR_DEFENSE}\n                <br />\n                {e.MAGIC_DEFENSE}\n              </td>\n              <td>{e.Param_ResistanceAssassin}</td>\n              {!isTabletOrMobile && <td>{dropImg}</td>}\n              {!isTabletOrMobile && <td>{changeCondition}</td>}\n            </tr>\n            {showTable[index] && (\n              <tr>\n                <td colSpan={9} style={{ paddingTop: 0, paddingBottom: 0 }}>\n                  <Row gutter={8}>\n                    <Col xs={24} md={12}>\n                      <table className={styles.table}>\n                        <tbody>\n                          <tr>\n                            <th></th>\n                            <td>{types}</td>\n                          </tr>\n                          {changeCondition && (\n                            <tr>\n                              <th></th>\n                              <td>{changeCondition}</td>\n                            </tr>\n                          )}\n                          <tr>\n                            <th></th>\n                            <td>{e.Loop}</td>\n                          </tr>\n                          <tr>\n                            <th></th>\n                            <td>{routeNos.join('->')}</td>\n                          </tr>\n                          {e.PrizeCardID !== 0 && (\n                            <tr>\n                              <th></th>\n                              <td>{dropImg}</td>\n                            </tr>\n                          )}\n                        </tbody>\n                      </table>\n\n                      {e.SpecialtyConfigs.length > 0 && (\n                        <table\n                          className={styles.table}\n                          style={{\n                            tableLayout: 'fixed',\n                            position: 'relative',\n                          }}\n                        >\n                          <thead>\n                            <tr>\n                              <th></th>\n                              <th>p1</th>\n                              <th>p2</th>\n                              <th>p3</th>\n                              <th>p4</th>\n                            </tr>\n                            <tr>\n                              <th colSpan={3}>cmd</th>\n                              <th colSpan={2}>...p</th>\n                            </tr>\n                          </thead>\n                          {e.SpecialtyConfigs.map((config, index) => (\n                            <EnemyConfigTableRows key={index} config={config} />\n                          ))}\n                        </table>\n                      )}\n                      {!!(e.Missile && e.Missile.Enemy === 1) && (\n                        <MissileTable missile={e.Missile} compact />\n                      )}\n                    </Col>\n                    <Col xs={24} md={12}>\n                      {dots &&\n                        dots.map((dot, i) => (\n                          <DotTable\n                            key={i}\n                            CardID={imgID}\n                            urlBase={ENEMY_DOT_URL}\n                            dot={dot}\n                          />\n                        ))}\n                    </Col>\n                  </Row>\n                </td>\n              </tr>\n            )}\n          </React.Fragment>\n        );\n      })}\n    </>\n  );\n};\n\ninterface EnemyTableProps {\n  data: {\n    Quest: QuestType;\n    QuestEventTexts: Array<{\n      Message: string;\n      Name: string;\n      FaceID: number;\n    }>;\n  };\n}\n\nconst EnemyTable: React.FC<EnemyTableProps> = ({ data }) => {\n  const isTabletOrMobile = useMediaQuery({ query: '(max-width: 991px)' });\n  const { Quest: quest } = data;\n  const enemies = quest.Map.Enemies;\n  const entries = quest.Map.Entries[quest.EntryNo];\n  const routes = quest.Map.Routes;\n  const mapLevel = quest.Level;\n  const [showDuplicate, setShowDuplicate] = useState(false);\n  const [showTalk, setShowTalk] = useState(true);\n  const drops = [\n    quest.Treasure1,\n    quest.Treasure2,\n    quest.Treasure3,\n    quest.Treasure4,\n    quest.Treasure5,\n  ].map(\n    (treasure) => getTreasureURI(treasure),\n  );\n  const parsedEnemies: Array<Array<Enemy & MapEntry> | MapEntry> = [];\n  const parseEnemy = (entry: MapEntry, enemyID: number = entry.EnemyID - 1) => {\n    const enemy = { ...enemies[enemyID], ...entry, EnemyID: enemyID };\n    if (!enemy.Level) {\n      enemy.Level = 100;\n    }\n    enemy.HP = (enemy.HP * mapLevel * enemy.Level) / 10000;\n    if (!enemy.ATTACK_RANGE) {\n      enemy.ATTACK_POWER =\n        (enemy.ATTACK_POWER * mapLevel * enemy.Level) / 10000;\n    }\n    return enemy;\n  };\n  for (const entry of entries) {\n    // ids between 0 and 1000 are true enemies\n    if (entry.EnemyID >= 0 && entry.EnemyID < 1000) {\n      const enemy = parseEnemy(entry);\n      const enemyGroup = [enemy];\n      if (\n        parsedEnemies.find(\n          (ea) =>\n            !showDuplicate &&\n            ea instanceof Array &&\n            ea[0].EnemyID === enemy.EnemyID,\n        )\n      ) {\n        continue;\n      }\n      if (enemy.Param_ChangeParam) {\n        while (enemyGroup[enemyGroup.length - 1].Param_ChangeParam) {\n          const changeFrom = enemyGroup[enemyGroup.length - 1];\n          const enemyID = changeFrom.Param_ChangeParam - 1;\n          if (enemyGroup.find((e) => e.EnemyID === enemyID)) {\n            break;\n          }\n          const newEnemy = parseEnemy(entry, enemyID);\n          enemyGroup.push(newEnemy);\n        }\n      }\n      parsedEnemies.push(enemyGroup);\n    } else {\n      parsedEnemies.push(entry);\n    }\n  }\n  return (\n    <table className={styles.table}>\n      <thead>\n        <tr>\n          <td colSpan={12}>\n            \n            <Switch\n              checkedChildren=\"\"\n              unCheckedChildren=\"\"\n              checked={showDuplicate}\n              onChange={(value) => setShowDuplicate(value)}\n            />\n            <Divider type=\"vertical\" />\n            \n            <Switch\n              checkedChildren=\"\"\n              unCheckedChildren=\"\"\n              checked={showTalk}\n              onChange={(value) => setShowTalk(value)}\n            />\n          </td>\n        </tr>\n        <tr>\n          <th rowSpan={2} style={{ width: 100 }}>\n            \n          </th>\n          {!isTabletOrMobile && <th rowSpan={2}></th>}\n          <th></th>\n          <th rowSpan={2}>HP</th>\n          <th rowSpan={2}></th>\n          <th></th>\n          <th rowSpan={2}></th>\n          {!isTabletOrMobile && <th rowSpan={2}></th>}\n          {!isTabletOrMobile && <th rowSpan={2}></th>}\n        </tr>\n        <tr>\n          <th></th>\n          <th></th>\n        </tr>\n      </thead>\n\n      <tbody>\n        {parsedEnemies.map((enemies, index) => {\n          if (enemies instanceof Array) {\n            return (\n              <EnemyTableRows\n                isTabletOrMobile={isTabletOrMobile}\n                enemies={enemies}\n                drops={drops}\n                key={index}\n                routes={routes}\n              />\n            );\n          } else if (enemies.EnemyID === -1) {\n            // wait\n            return null;\n          } else if (enemies.EnemyID === 2000) {\n            // exclution mark\n            return null;\n          } else if (enemies.EnemyID >= 1000 && enemies.EnemyID < 2000) {\n            // quest event text\n            return showTalk ? (\n              <TalkRow\n                key={`enemy-table-${index}`}\n                talk={data.QuestEventTexts[enemies.EnemyID - 1000]}\n                MissionID={quest.Mission.MissionID}\n                isTabletOrMobile={isTabletOrMobile}\n              />\n            ) : null;\n          } else if (enemies.EnemyID === 4201) {\n            // command, play se or call a event, etc\n            const command = enemies.EntryCommand;\n            const match = /CallEvent\\(([\\d,]+)\\)/.exec(command);\n            if (match) {\n              const list = match[1].split(',');\n              return list.map((s, index) => {\n                const recordIndex = Number.parseInt(s, 10);\n                const talk = quest.Mission.BattleTalkEvents.find(\n                  (e) => e.RecordIndex === recordIndex,\n                );\n                if (!talk) {\n                  return null;\n                }\n                return showTalk ? (\n                  <TalkRow\n                    key={`enemy-table-${index}-event-${recordIndex}`}\n                    MissionID={quest.Mission.MissionID}\n                    talk={talk}\n                    isTabletOrMobile={isTabletOrMobile}\n                  />\n                ) : null;\n              });\n            }\n            return (\n              <tr style={{ display: 'none' }} key={`enemy-table-${index}`}>\n                <td colSpan={14}>{enemies.EntryCommand}</td>\n              </tr>\n            );\n          }\n          return null;\n        })}\n      </tbody>\n    </table>\n  );\n};\n\nexport default EnemyTable;\n","import React from 'react';\nimport { Enemy } from 'interfaces';\nimport { ENEMY_DOT_URL } from 'consts';\n\nconst PreviewDot: React.FC<{ enemy: Enemy }> = ({ enemy }) => {\n  const imgID = (enemy.PatternID >> 4) & 0x1fff;\n  const previewSprite = enemy.Dots?.[0].Entries[0].Sprites[0];\n  return (\n    <div>\n      {previewSprite && (\n        <div\n          style={{\n            display: 'inline-block',\n            width: previewSprite.Width,\n            height: previewSprite.Height,\n            backgroundImage: `url(\"${ENEMY_DOT_URL}/${imgID}/sprite.png\")`,\n            backgroundPositionX: -previewSprite.X,\n            backgroundPositionY: -previewSprite.Y,\n            zoom: Math.min(40 / previewSprite.Height, 40 / previewSprite.Width),\n            verticalAlign: 'middle',\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default PreviewDot;\n","import React, { useRef, useEffect, useState } from 'react';\nimport { Quest } from 'interfaces';\nimport { MAP_IMAGE_URL, STATIC_URL } from 'consts';\nimport { Stage, Layer, Image, Circle, Arrow } from 'react-konva';\nimport useImage from 'use-image';\nimport styles from './Quest.module.less';\nimport { InputNumber, Select } from 'antd';\n\nconst MapTable: React.FC<{ quest: Quest }> = ({ quest }) => {\n  const [mapImg] = useImage(\n    quest.Map.Image\n      ? 'http://assets.millennium-war.net' + quest.Map.Image\n      : `${MAP_IMAGE_URL}/${quest.Map.MapName}.png`,\n  );\n  const [heartImg] = useImage(STATIC_URL + '/heart.png');\n  const [nearImg] = useImage(STATIC_URL + '/near.png');\n  const [farImg] = useImage(STATIC_URL + '/far.png');\n  const [zoom, setZoom] = useState(1);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [circle, setCircle] = useState<{\n    x?: number;\n    y?: number;\n    range?: number;\n  }>({});\n  const [routeNos, setRouteNos] = useState<number[]>([]);\n\n  useEffect(() => {\n    const resize = () => {\n      if (containerRef.current) {\n        setZoom(containerRef.current.offsetWidth / 960);\n      }\n    };\n    window.onresize = resize;\n    resize();\n    return () => {\n      window.onresize = null;\n    };\n  }, []);\n\n  // const routeNosAppend = [...routeNos];\n  // for (let i = 0; i < routeNosAppend.length; i++) {\n  //   const routes = quest.Map.Routes[routeNosAppend[i]];\n  //   for (const route of routes) {\n  //     if (route.RouteID !== 0 && !routeNosAppend.includes(route.RouteID)) {\n  //       routeNosAppend.push(route.RouteID);\n  //       break;\n  //     }\n  //   }\n  // }\n\n  return (\n    <>\n      <div\n        style={{\n          width: '100%',\n          height: 0,\n          paddingBottom: '66.67%',\n          overflow: 'hidden',\n        }}\n        ref={containerRef}\n      >\n        <Stage width={960} height={640} scaleX={zoom} scaleY={zoom}>\n          <Layer>\n            <Image image={mapImg} />\n            {mapImg && heartImg && nearImg && farImg && (\n              <>\n                <Image image={mapImg} />\n                {quest.Map.Locations[quest.LocationNo].map(\n                  (location, index) => {\n                    const img =\n                      location.ObjectID === 0\n                        ? heartImg\n                        : location.ObjectID < 300\n                        ? nearImg\n                        : farImg;\n                    if (location.ObjectID === 0) {\n                      return (\n                        <Image\n                          image={img}\n                          key={index}\n                          x={location.X - img.width / 2}\n                          y={location.Y - img.height / 2}\n                        />\n                      );\n                    }\n                    return (\n                      <Image\n                        onClick={() => {\n                          setCircle((c) => ({\n                            x: location.X,\n                            y: location.Y,\n                            range: c.range || 250,\n                          }));\n                        }}\n                        onTap={() => {\n                          setCircle((c) => ({\n                            x: location.X,\n                            y: location.Y,\n                            range: c.range || 250,\n                          }));\n                        }}\n                        onMouseEnter={() => {\n                          document.body.style.cursor = 'pointer';\n                        }}\n                        onMouseLeave={() => {\n                          document.body.style.cursor = 'default';\n                        }}\n                        image={img}\n                        key={index}\n                        x={location.X - img.width / 2}\n                        y={location.Y - img.height / 3}\n                      />\n                    );\n                  },\n                )}\n                {circle.range !== undefined &&\n                  circle.x !== undefined &&\n                  circle.y !== undefined && (\n                    <Circle\n                      radius={circle.range * 0.75}\n                      x={circle.x}\n                      y={circle.y}\n                      fill=\"rgba(0, 255, 0, 0.3)\"\n                      stroke=\"rgba(0, 255, 0, 0.5)\"\n                      onClick={() => setCircle({})}\n                      onTap={() => setCircle({})}\n                    />\n                  )}\n                {quest.Map.Routes.map((routes, index) => {\n                  if (!routeNos.includes(index)) {\n                    return null;\n                  }\n                  return (\n                    <React.Fragment key={index}>\n                      {routes.slice(1).map((route, i) => {\n                        return (\n                          <Arrow\n                            points={[\n                              routes[i].X,\n                              routes[i].Y,\n                              route.X,\n                              route.Y,\n                            ]}\n                            key={i}\n                            stroke=\"rgba(255, 255, 255, 0.7)\"\n                            fill=\"red\"\n                            strokeWidth={8}\n                          />\n                        );\n                      })}\n                    </React.Fragment>\n                  );\n                })}\n              </>\n            )}\n          </Layer>\n        </Stage>\n      </div>\n      <table className={styles.table}>\n        <tbody>\n          <tr>\n            <th></th>\n            <td>\n              <InputNumber\n                min={0}\n                style={{ width: '100%' }}\n                value={circle.range}\n                onChange={(value) =>\n                  value &&\n                  value >= 0 &&\n                  setCircle((c) => ({ ...c, range: value && value }))\n                }\n                placeholder=\"\"\n              />\n            </td>\n          </tr>\n          <tr>\n            <th></th>\n            <td>\n              <Select\n                mode=\"multiple\"\n                style={{ width: '100%' }}\n                value={routeNos}\n                onChange={(value: number[]) => setRouteNos(value)}\n                placeholder=\"\"\n              >\n                {quest.Map.Routes.map(\n                  (route, index) =>\n                    route && (\n                      <Select.Option key={index} value={index}>\n                        {index}\n                      </Select.Option>\n                    ),\n                )}\n              </Select>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </>\n  );\n};\n\nexport default MapTable;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { QuestTermConfig } from 'interfaces';\nimport styles from './Quest.module.less';\nimport { useMutation } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport { Input, message, Spin } from 'antd';\nimport classNames from 'classnames';\n\nconst QuestConfigTableRows: React.FC<{ config: QuestTermConfig }> = ({\n  config,\n}) => {\n  const [value, setValue] = useState(config.Comment || '');\n\n  const [setQuestConfigMeta, { loading, data }] = useMutation<{\n    QuestConfigMeta?: { TypeID: number; Comment: string };\n  }>(\n    gql`\n      mutation($TypeID: Int!, $Comment: String) {\n        QuestConfigMeta(TypeID: $TypeID, Comment: $Comment) {\n          TypeID\n          Comment\n        }\n      }\n    `,\n    {\n      onCompleted: d => {\n        setValue(d?.QuestConfigMeta?.Comment || '');\n      },\n    },\n  );\n\n  const [editing, setEditing] = useState(false);\n  const ref = useRef<Input>(null);\n\n  useEffect(() => {\n    if (editing && ref.current) {\n      ref.current.focus();\n    }\n  }, [editing]);\n\n  const handleSave = async () => {\n    await setQuestConfigMeta({\n      variables: { TypeID: config.Type_Influence, Comment: value },\n    });\n    message.success('');\n    setEditing(false);\n  };\n\n  return (\n    <tbody className={styles.configRowGroup}>\n      <tr className={styles.cover}>\n        <td\n          colSpan={8}\n          className={classNames({\n            [styles.blank]: !(data\n              ? data.QuestConfigMeta?.Comment\n              : config.Comment),\n          })}\n        >\n          {editing ? (\n            <Spin spinning={loading}>\n              <Input\n                size=\"small\"\n                ref={ref}\n                value={value}\n                onChange={e => setValue(e.target.value)}\n                onBlur={handleSave}\n                onPressEnter={handleSave}\n              />\n            </Spin>\n          ) : (\n            <div\n              className={classNames(styles.fakeInput, styles.small)}\n              onClick={() => setEditing(true)}\n            >\n              {data ? data.QuestConfigMeta?.Comment : config.Comment}\n            </div>\n          )}\n        </td>\n      </tr>\n      <tr>\n        <td>{config.Type_Influence}</td>\n        <td>{config.Data_Param1}</td>\n        <td>{config.Data_Param2}</td>\n        <td>{config.Data_Param3}</td>\n        <td>{config.Data_Param4}</td>\n      </tr>\n\n      {!!config.Data_Expression && (\n        <tr style={{ borderBottom: '2px solid #e8e8e8' }}>\n          <td colSpan={5}>{config.Data_Expression}</td>\n        </tr>\n      )}\n    </tbody>\n  );\n};\n\nconst QuestTermTable: React.FC<{ terms: QuestTermConfig[] }> = ({ terms }) => {\n  return (\n    <table\n      className={styles.table}\n      style={{\n        margin: -1,\n        width: 'calc(100% + 2px)',\n        tableLayout: 'fixed',\n        position: 'relative',\n      }}\n    >\n      <thead>\n        <tr>\n          <th></th>\n          <th>p1</th>\n          <th>p2</th>\n          <th>p3</th>\n          <th>p4</th>\n        </tr>\n        <tr>\n          <th colSpan={5}>cmd</th>\n        </tr>\n      </thead>\n      {terms.map((term, index) => (\n        <QuestConfigTableRows key={index} config={term} />\n      ))}\n    </table>\n  );\n};\n\nexport default QuestTermTable;\n","import React, { useState } from 'react';\nimport gql from 'graphql-tag';\nimport { Layout, Row, Col, Tag, Icon, Button, Switch } from 'antd';\nimport { Link } from 'react-router-dom';\nimport useRouter from 'use-react-router';\nimport EnemyTable from './EnemyTable';\nimport styles from './Quest.module.less';\nimport Loading from 'Components/Loading';\nimport { useQuery } from '@apollo/react-hooks';\nimport { renderDescription } from 'utils';\nimport { MapEntry, Enemy } from 'interfaces';\nimport { DotFragment, EnemyFragment } from 'fragments';\nimport PreviewDot from './PreviewDot';\nimport MapTable from './MapTable';\nimport QuestTermTable from './QuestTermTable';\nimport { Quest as QuestType } from 'interfaces';\nimport TalkRow from 'Components/TalkRow';\nimport { getTreasureURI } from './common';\n\nconst { Content } = Layout;\n\nconst Quest: React.FC = () => {\n  const { match } = useRouter<{ QuestID: string }>();\n  const QuestID = Number.parseInt(match.params.QuestID, 10);\n  const [showTerms, setShowTerms] = useState(false);\n  const [showHardTerms, setShowHardTerms] = useState(false);\n  const [showMissionTalks, setShowMissionTalks] = useState(false);\n\n  const { data, loading } = useQuery<{\n    Quest: QuestType;\n    QuestEventTexts: Array<{\n      Message: string;\n      Name: string;\n      FaceID: number;\n    }>;\n  }>(\n    gql`\n      fragment termConfig on QuestTermConfig {\n        Type_Influence\n        Data_Param1\n        Data_Param2\n        Data_Param3\n        Data_Param4\n        Data_Expression\n        Comment\n      }\n      query ($id: Int!) {\n        Quest(QuestID: $id) {\n          EventArcs {\n            _TalkerName\n            _TalkText\n          }\n          Name\n          HardInfomation\n          Message\n          Charisma\n          EntryNo\n          LocationNo\n          Level\n          ActionPoint\n          Treasure1\n          Treasure2\n          Treasure3\n          Treasure4\n          Treasure5\n          RankExp\n          Gold\n          Capacity\n          QuestTerms\n          _HardCondition\n          _HardLevel\n          QuestTermConfigs {\n            ...termConfig\n          }\n          QuestHardTermConfigs {\n            ...termConfig\n          }\n          Mission {\n            MissionID\n            BattleTalkEvents {\n              Message\n              Name\n              FaceID\n              RecordIndex\n            }\n          }\n          MapNo\n          Map {\n            MapName\n            Image\n            Entries {\n              EnemyID\n              Wait\n              RouteNo\n              Loop\n              Level\n              PrizeEnemySpawnPercent\n              PrizeCardID\n              PrizeEnemyDropPercent\n              RouteOffset\n              IsAppear\n              FreeCommand\n              EntryCommand\n              DeadCommand\n            }\n            Routes {\n              X\n              Y\n              RouteID\n              JumpPoint\n              WarpDelay\n              WaitTime\n              OnEvent\n            }\n            Locations {\n              ObjectID\n              X\n              Y\n              _Command\n            }\n            Enemies {\n              ...enemy\n            }\n          }\n        }\n        QuestEventTexts {\n          Message\n          Name\n          FaceID\n        }\n      }\n      ${DotFragment}\n      ${EnemyFragment}\n    `,\n    { variables: { id: QuestID } },\n  );\n\n  const dropper: Array<Array<Enemy & MapEntry>> = [[], [], [], [], []];\n  let enemiesCount = 0;\n  if (data) {\n    const enemies = data.Quest.Map.Enemies;\n    const entries = data.Quest.Map.Entries[data.Quest.EntryNo];\n    for (const entry of entries) {\n      if (entry.EnemyID >= 0 && entry.EnemyID < 1000) {\n        enemiesCount += entry.Loop;\n        if (entry.PrizeCardID !== 0) {\n          dropper[entry.PrizeCardID - 1].push({\n            ...enemies[entry.EnemyID - 1],\n            ...entry,\n            Loop: enemiesCount,\n          });\n        }\n      }\n    }\n  }\n\n  const haveDrop = dropper\n    .map((drop) => drop.length !== 0)\n    .reduce((prev, curr) => prev || curr);\n\n  return (\n    <Content className={styles.questContainer}>\n      {loading && <Loading />}\n      {data && data.Quest && (\n        <div>\n          <h1 className={styles.questTitle}>\n            <Link to={`/quest/${QuestID - 1}`}>\n              <Icon type=\"left\" />\n            </Link>\n            {data.Quest.Name}\n            <Link to={`/quest/${QuestID + 1}`}>\n              <Icon type=\"right\" />\n            </Link>\n          </h1>\n          <div>\n            {data.Quest.Charisma ? (\n              <Tag color=\"green\">\n                \n                {data.Quest.Charisma}\n              </Tag>\n            ) : null}\n            {data.Quest.ActionPoint ? (\n              <Tag color=\"red\">\n                \n                {data.Quest.ActionPoint}\n              </Tag>\n            ) : null}\n          </div>\n          <Row gutter={8} className={styles.questInfo}>\n            <Col md={12} sm={24}>\n              <MapTable quest={data.Quest} />\n            </Col>\n            <Col md={12} sm={24}>\n              <table className={styles.table} style={{ margin: 0 }}>\n                <tbody>\n                  <tr>\n                    <td colSpan={4}>\n                      <div\n                        dangerouslySetInnerHTML={{\n                          __html: renderDescription(data.Quest.Message),\n                        }}\n                        style={{\n                          textAlign: 'left',\n                          maxWidth: '20em',\n                          margin: 'auto',\n                        }}\n                      />\n                    </td>\n                  </tr>\n                  <tr>\n                    <th></th>\n                    <td>{data.Quest.RankExp}</td>\n                    <th></th>\n                    <td>{data.Quest.Gold}</td>\n                  </tr>\n                  <tr>\n                    <th></th>\n                    <td>{data.Quest.Capacity}</td>\n                    <th></th>\n                    <td>{enemiesCount}</td>\n                  </tr>\n                  <tr>\n                    <th></th>\n                    <td>{data.Quest.Level}</td>\n                    <th></th>\n                    <td>\n                      {data.Quest.QuestTerms !== 0 && (\n                        <Button\n                          type=\"primary\"\n                          size=\"small\"\n                          onClick={() => setShowTerms(!showTerms)}\n                          icon={showTerms ? 'up' : 'down'}\n                        />\n                      )}\n                    </td>\n                  </tr>\n                  {showTerms && (\n                    <tr>\n                      <td colSpan={4} style={{ padding: 0 }}>\n                        <QuestTermTable terms={data.Quest.QuestTermConfigs} />\n                      </td>\n                    </tr>\n                  )}\n                  {data.Quest._HardCondition !== 0 && (\n                    <>\n                      <tr>\n                        <td colSpan={4}>\n                          <div\n                            dangerouslySetInnerHTML={{\n                              __html: renderDescription(\n                                // TODO: delete ||\n                                data.Quest.HardInfomation || '',\n                              ),\n                            }}\n                            style={{\n                              textAlign: 'left',\n                              maxWidth: '20em',\n                              margin: 'auto',\n                            }}\n                          />\n                        </td>\n                      </tr>\n                      <tr>\n                        <th>4</th>\n                        <td>{data.Quest._HardLevel}</td>\n                        <th></th>\n                        <td>\n                          <Button\n                            type=\"primary\"\n                            size=\"small\"\n                            onClick={() => setShowHardTerms(!showHardTerms)}\n                            icon={showHardTerms ? 'up' : 'down'}\n                          />\n                        </td>\n                      </tr>\n                    </>\n                  )}\n                  {showHardTerms && (\n                    <tr>\n                      <td colSpan={4} style={{ padding: 0 }}>\n                        <QuestTermTable\n                          terms={data.Quest.QuestHardTermConfigs}\n                        />\n                      </td>\n                    </tr>\n                  )}\n                  {haveDrop && (\n                    <tr>\n                      <td colSpan={4}>\n                        <table>\n                          <tbody>\n                            <tr>\n                              {dropper.map((_, index) => {\n                                const treasure: number = (data.Quest as any)[\n                                  `Treasure${index + 1}`\n                                ];\n                                return (\n                                  <td style={{ width: '20%' }} key={index}>\n                                    {treasure > 0 ? (\n                                      <div>\n                                        <img\n                                          alt={treasure.toString()}\n                                          style={{ width: '100%' }}\n                                          src={getTreasureURI(treasure)}\n                                        />\n                                        {dropper[4].length === 0 &&\n                                          index === 4 && (\n                                            <Tag\n                                              color=\"red\"\n                                              style={{ margin: 0 }}\n                                            >\n                                              COM\n                                            </Tag>\n                                          )}\n                                      </div>\n                                    ) : null}\n                                  </td>\n                                );\n                              })}\n                            </tr>\n                            <tr>\n                              {dropper.map((drops, index) => (\n                                <td key={index}>\n                                  {drops.map((drop, i) => {\n                                    return (\n                                      <div key={i}>\n                                        <PreviewDot enemy={drop} />#{drop.Loop}\n                                      </div>\n                                    );\n                                  })}\n                                </td>\n                              ))}\n                            </tr>\n                          </tbody>\n                        </table>\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </Col>\n          </Row>\n          {data && <EnemyTable data={data} />}\n          {data && data.Quest.EventArcs && data.Quest.EventArcs.length !== 0 && (\n            <div>\n              <h2></h2>\n              <table className={styles.table}>\n                <tbody>\n                  {data.Quest.EventArcs.map((arc, index) => (\n                    <tr key={index}>\n                      <th>{arc._TalkerName}</th>\n                      <td>\n                        <div\n                          dangerouslySetInnerHTML={{\n                            __html: renderDescription(arc._TalkText),\n                          }}\n                          style={{\n                            margin: 'auto',\n                            maxWidth: '30em',\n                            textAlign: 'left',\n                          }}\n                        />\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n          {data && data.Quest.Mission.BattleTalkEvents?.length !== 0 && (\n            <div>\n              <h2>\n                Mission&nbsp;\n                <Switch\n                  checkedChildren=\"\"\n                  unCheckedChildren=\"\"\n                  checked={showMissionTalks}\n                  onChange={(value) => setShowMissionTalks(value)}\n                />\n              </h2>\n              {showMissionTalks && (\n                <table className={styles.table}>\n                  <colgroup style={{ width: 100 }} />\n                  <tbody>\n                    {data.Quest.Mission.BattleTalkEvents.map((talk, index) => (\n                      <TalkRow\n                        key={index}\n                        talk={talk}\n                        MissionID={data.Quest.Mission.MissionID}\n                        isTabletOrMobile={false}\n                      />\n                    ))}\n                  </tbody>\n                </table>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n    </Content>\n  );\n};\n\nexport default Quest;\n","import React from 'react';\nimport { Layout, Collapse, Drawer, Menu } from 'antd';\nimport gql from 'graphql-tag';\nimport _ from 'lodash';\nimport { MISSION_TYPE } from './types';\nimport MissionShutter from './MissionShutter';\nimport useRouter from 'use-react-router';\nimport { useQuery } from '@apollo/react-hooks';\nimport { useMediaQuery } from 'react-responsive';\nimport Quest from '../Quest';\nimport Loading from 'Components/Loading';\nimport styles from './QuestList.module.less';\nimport { useState } from 'react';\n\nconst { Content, Sider } = Layout;\nconst Panel = Collapse.Panel;\n\nconst QuestList: React.FC = () => {\n  const { match, history } = useRouter<{ QuestID: string }>();\n  const { QuestID } = match.params;\n\n  const [currentMissionType, setCurrentMissionType] = useState('Emergency');\n\n  const isTabletOrMobile = useMediaQuery({ query: '(max-width: 991px)' });\n\n  const { loading, data } = useQuery<{\n    Missions: Array<{\n      Name: string;\n      Type: string;\n      MissionID: number;\n    }>;\n  }>(\n    gql`\n      query {\n        Missions {\n          Name\n          Type\n          MissionID\n        }\n      }\n    `,\n  );\n\n  const missions = data ? Object.entries(_.groupBy(data.Missions, 'Type')) : [];\n\n  return (\n    <Layout style={{ position: 'relative', overflow: 'hidden' }}>\n      <Sider theme=\"light\" className={styles.sider}>\n        {loading ? (\n          <Loading />\n        ) : (\n          <Menu\n            theme=\"light\"\n            selectedKeys={[currentMissionType]}\n            onSelect={p => setCurrentMissionType(p.key)}\n            style={{ border: 'none' }}\n          >\n            {missions.map(([key]) => (\n              <Menu.Item key={key}>{MISSION_TYPE[key]}</Menu.Item>\n            ))}\n          </Menu>\n        )}\n      </Sider>\n      <Content style={{ position: 'relative' }}>\n        <div\n          style={{\n            height: '100%',\n            overflow: 'auto',\n          }}\n        >\n          <Content className={styles.missionListContent}>\n            {!loading ? (\n              <Collapse bordered={false}>\n                {missions\n                  .find(m => m[0] === currentMissionType)![1]\n                  .map(mission => {\n                    return (\n                      <Panel\n                        key={mission.MissionID}\n                        header={\n                          <span>\n                            {mission.MissionID}\n                            &nbsp;\n                            <strong>{mission.Name}</strong>\n                          </span>\n                        }\n                      >\n                        <MissionShutter\n                          mission={mission}\n                          isTabletOrMobile={isTabletOrMobile}\n                        />\n                      </Panel>\n                    );\n                  })}\n              </Collapse>\n            ) : (\n              <Loading />\n            )}\n          </Content>\n        </div>\n      </Content>\n      <Drawer\n        width={isTabletOrMobile ? '100%' : '80%'}\n        visible={!!QuestID}\n        destroyOnClose\n        onClose={() => history.push('/quest')}\n        getContainer={false}\n        style={{ position: 'absolute' }}\n      >\n        {QuestID && <Quest />}\n      </Drawer>\n    </Layout>\n  );\n};\n\nexport default QuestList;\n","import React, { useState } from 'react';\nimport { Layout, Spin, Pagination, Input } from 'antd';\n\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/react-hooks';\nimport { ClassData } from 'interfaces';\nimport ClassTable from 'Components/ClassTable';\nimport { MissileFragment } from 'fragments';\n\nconst { Content } = Layout;\n\nconst ClassList: React.FC = () => {\n  const [search, setSearch] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const handleSetSearch = (value: string) => {\n    setSearch(value);\n    setCurrentPage(1);\n  };\n\n  const classFilter = (unitClass: any) => {\n    return JSON.stringify(unitClass).includes(search);\n  };\n\n  const { data, loading, refetch } = useQuery<{ Classes: ClassData[] }>(gql`\n    query {\n      Classes {\n        AttackAttribute\n        Missile {\n          ...missile\n        }\n        ClassID\n        Name\n        Explanation\n        JobChange\n        JobChangeMaterial1\n        JobChangeMaterial2\n        JobChangeMaterial3\n        Data_ExtraAwakeOrb1\n        Data_ExtraAwakeOrb2\n        AwakeType1\n        AwakeType2\n        AttackWait\n        NickNames\n        ClassAbilityConfigs {\n          _InvokeType\n          _TargetType\n          _InfluenceType\n          _Param1\n          _Param2\n          _Param3\n          _Param4\n          _Command\n          _ActivateCommand\n          Comment\n        }\n        ClassAbilityPower1\n        Cards {\n          CardID\n          Name\n          Rare\n        }\n      }\n    }\n    ${MissileFragment}\n  `);\n\n  return (\n    <Content className=\"container\">\n      <Spin spinning={loading}>\n        <Input\n          placeholder=\"\"\n          value={search}\n          onChange={event => {\n            handleSetSearch(event.target.value);\n          }}\n        />\n        {data &&\n          data.Classes &&\n          data.Classes.filter(classFilter)\n            .sort((c1, c2) => c1.ClassID - c2.ClassID)\n            .slice(50 * (currentPage - 1), 50 * currentPage)\n            .map(unitClass => {\n              return (\n                <ClassTable\n                  key={unitClass.ClassID}\n                  classData={unitClass}\n                  onCompleted={refetch}\n                />\n              );\n            })}\n        {data && data.Classes && (\n          <Pagination\n            defaultCurrent={1}\n            defaultPageSize={50}\n            current={currentPage}\n            onChange={page => setCurrentPage(page)}\n            total={data.Classes.filter(classFilter).length}\n          />\n        )}\n      </Spin>\n    </Content>\n  );\n};\n\nexport default ClassList;\n","import React, { useState } from 'react';\nimport { Layout, Pagination, Input } from 'antd';\nimport gql from 'graphql-tag';\nimport { useQuery } from '@apollo/react-hooks';\nimport { SkillData } from 'interfaces';\nimport SkillTable from 'Components/SkillTable';\nimport Loading from 'Components/Loading';\n\nconst { Content } = Layout;\n\ninterface Data {\n  Skills: SkillData[];\n}\n\nconst SkillList: React.FC = () => {\n  const [search, setSearch] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n\n  const handleSetSearch = (search: string) => {\n    setSearch(search);\n    setCurrentPage(1);\n  };\n\n  const skillFilter = (skill: any) => {\n    return !search || JSON.stringify(skill).includes(search);\n  };\n\n  const { data, loading } = useQuery<Data>(gql`\n    query {\n      Skills {\n        SkillID\n        SkillName\n        WaitTime\n        ContTimeMax\n        PowerMax\n        LevelMax\n        Text\n        Configs {\n          Type_Collision\n          Type_CollisionState\n          Type_ChangeFunction\n          Data_Target\n          Data_InfluenceType\n          Data_MulValue\n          Data_MulValue2\n          Data_MulValue3\n          Data_AddValue\n          _HoldRatioUpperLimit\n          _Expression\n          _ExpressionActivate\n          Comment\n        }\n        Cards {\n          CardID\n          Name\n          Rare\n        }\n      }\n    }\n  `);\n\n  return (\n    <Content className=\"container\">\n      <Loading spinning={loading}>\n        <Input\n          placeholder=\"\"\n          value={search}\n          onChange={event => {\n            handleSetSearch(event.target.value);\n          }}\n        />\n        {data &&\n          data.Skills &&\n          data.Skills.filter(skillFilter)\n            .slice(50 * (currentPage - 1), 50 * currentPage)\n            .map((skill, index) => <SkillTable skills={[skill]} key={index} />)}\n        {data && data.Skills && (\n          <Pagination\n            defaultCurrent={1}\n            defaultPageSize={50}\n            current={currentPage}\n            onChange={page => setCurrentPage(page)}\n            total={data.Skills.filter(skillFilter).length}\n          />\n        )}\n      </Loading>\n    </Content>\n  );\n};\n\nexport default SkillList;\n","import React, { useState } from 'react';\nimport { Spin, Layout, Pagination, Input } from 'antd';\nimport gql from 'graphql-tag';\nimport { AbilityData } from 'interfaces';\nimport { useQuery } from '@apollo/react-hooks';\nimport AbilityTable from 'Components/AbilityTable';\n\nconst { Content } = Layout;\n\nconst AbilityList: React.FC = () => {\n  const [currentPage, setCurrentPage] = useState(1);\n  const [search, setSearch] = useState('');\n\n  const handleSetSearch = (search: string) => {\n    setSearch(search);\n    setCurrentPage(1);\n  };\n\n  const abilityFilter = (ability: AbilityData) => {\n    return !search || (search && JSON.stringify(ability).includes(search));\n  };\n\n  const { data, loading } = useQuery<{ Abilities: AbilityData[] }>(gql`\n    query {\n      Abilities {\n        AbilityID\n        Text\n        AbilityName\n        Configs {\n          _InvokeType\n          _TargetType\n          _InfluenceType\n          _Param1\n          _Param2\n          _Param3\n          _Param4\n          _Command\n          _ActivateCommand\n          Comment\n        }\n        Cards {\n          CardID\n          Name\n          Rare\n        }\n      }\n    }\n  `);\n\n  return (\n    <Content className=\"container\">\n      <Spin spinning={loading}>\n        <Input\n          placeholder=\"\"\n          value={search}\n          onChange={event => {\n            handleSetSearch(event.target.value);\n          }}\n        />\n        {data &&\n          data.Abilities &&\n          data.Abilities.filter(abilityFilter)\n            .slice(50 * (currentPage - 1), 50 * currentPage)\n            .map((ability, index) => {\n              return <AbilityTable ability={ability} key={index} />;\n            })}\n        {data && data.Abilities && (\n          <Pagination\n            defaultCurrent={1}\n            defaultPageSize={50}\n            current={currentPage}\n            onChange={page => setCurrentPage(page)}\n            total={data.Abilities.filter(abilityFilter).length}\n          />\n        )}\n      </Spin>\n    </Content>\n  );\n};\n\nexport default AbilityList;\n","import * as React from 'react';\nimport {\n  Layout,\n  Row,\n  Col,\n  Spin,\n  Icon,\n  Popconfirm,\n  Drawer,\n  Tag,\n  Modal,\n} from 'antd';\nimport { Query, Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport classNames from 'classnames';\nimport styles from './index.module.less';\nimport { EMOJI_URL } from '../../../consts';\n\nconst { Content } = Layout;\n\ninterface Data {\n  emojis: Array<{\n    _id: string;\n    emoji: string;\n    name: string;\n    group: number[];\n  }>;\n}\n\ninterface EmojiListStates {\n  drawerVisible: boolean;\n  currentEmoji: {\n    _id: string;\n    name: string[];\n    emoji: string[];\n    group: number[];\n  };\n  modalVisible: boolean;\n  currentImage: string;\n}\nexport default class EmojiList extends React.Component<any, EmojiListStates> {\n  public state: EmojiListStates = {\n    drawerVisible: false,\n    currentEmoji: {\n      _id: '',\n      name: [],\n      emoji: [],\n      group: [],\n    },\n    modalVisible: false,\n    currentImage: '',\n  };\n\n  public isImg = (img: string) => {\n    const [, ext] = img.split('.');\n    if (['jpg', 'jpeg', 'png', 'gif', 'bmp'].indexOf(ext) !== -1) {\n      return true;\n    }\n    return false;\n  };\n\n  public render() {\n    return (\n      <Query<Data>\n        query={gql`\n          query {\n            emojis {\n              _id\n              emoji\n              name\n              group\n            }\n          }\n        `}\n      >\n        {({ loading, error, data, refetch }) => (\n          <Content className=\"container\">\n            <Spin spinning={loading}>\n              <Row className=\"sorter-block\">\n                <Col span={2}>#</Col>\n                <Col span={7}></Col>\n                <Col span={9}></Col>\n                <Col span={6}></Col>\n              </Row>\n            </Spin>\n            {data &&\n              data.emojis &&\n              data.emojis.map((emoji: any, index: number) => (\n                <Row\n                  className=\"list-card\"\n                  key={emoji._id}\n                  onClick={() => {\n                    this.setState({ drawerVisible: true, currentEmoji: emoji });\n                  }}\n                >\n                  <Col span={2}>{index + 1}</Col>\n                  <Col span={7} className=\"important\">\n                    {emoji.name.join(', ')}\n                  </Col>\n                  <Col span={9}>{emoji.group.join(', ')}</Col>\n                  <Col span={6}>{emoji.emoji && emoji.emoji.length}</Col>\n                  <div\n                    className={classNames(\n                      'list-card-addon',\n                      styles.deleteIconContainer,\n                    )}\n                    onClick={e => {\n                      e.stopPropagation();\n                    }}\n                  >\n                    <Mutation\n                      mutation={gql`\n                        mutation removeEmoji($ID: String!) {\n                          removeEmoji(ID: $ID)\n                        }\n                      `}\n                    >\n                      {(removeEmoji: any, { data }: any) => (\n                        <Popconfirm\n                          title=\"emoji\"\n                          onConfirm={() => {\n                            removeEmoji({\n                              variables: {\n                                ID: emoji._id,\n                              },\n                            }).then(() => {\n                              refetch();\n                            });\n                          }}\n                        >\n                          <Icon\n                            className={styles.deleteIcon}\n                            type=\"delete\"\n                            theme=\"outlined\"\n                          />\n                        </Popconfirm>\n                      )}\n                    </Mutation>\n                  </div>\n                </Row>\n              ))}\n            <Drawer\n              width={'70%'}\n              className={styles.emojiDrawer}\n              title=\"emojij\"\n              onClose={() => this.setState({ drawerVisible: false })}\n              visible={this.state.drawerVisible}\n            >\n              <div style={{ marginBottom: 10 }}>\n                <span className=\"label\">:</span>\n                {this.state.currentEmoji.name.map(name => (\n                  <Tag key={name} color=\"blue\">\n                    {name}\n                  </Tag>\n                ))}\n              </div>\n              <div style={{ marginBottom: 10 }}>\n                <span className=\"label\">:</span>\n                {this.state.currentEmoji.group.map(group => (\n                  <Tag key={group} color=\"blue\">\n                    {group}\n                  </Tag>\n                ))}\n              </div>\n              <div className={styles.imageContainer}>\n                {this.state.currentEmoji.emoji.map(\n                  (emoji: any, index: number) => {\n                    return (\n                      <div key={emoji} className={styles.imageBox}>\n                        <div className={styles.imageCover}>\n                          <div className={styles.imageActionContainer}>\n                            <Icon\n                              className={styles.imageAction}\n                              type=\"eye\"\n                              theme=\"outlined\"\n                              onClick={() => {\n                                this.setState({\n                                  modalVisible: true,\n                                  currentImage: emoji,\n                                });\n                              }}\n                            />\n                            <Mutation\n                              mutation={gql`\n                                mutation removeEmojiItem(\n                                  $ID: String!\n                                  $index: Int!\n                                ) {\n                                  removeEmojiItem(ID: $ID, index: $index)\n                                }\n                              `}\n                            >\n                              {(removeEmojiItem: any) => {\n                                return (\n                                  <Popconfirm\n                                    title=\"emoji\"\n                                    onConfirm={() => {\n                                      removeEmojiItem({\n                                        variables: {\n                                          ID: this.state.currentEmoji._id,\n                                          index,\n                                        },\n                                      }).then((data: any) => {\n                                        if (data && data.data.removeEmojiItem) {\n                                          refetch();\n                                          this.setState(({ currentEmoji }) => ({\n                                            currentEmoji: {\n                                              ...currentEmoji,\n                                              emoji: [\n                                                ...currentEmoji.emoji.slice(\n                                                  0,\n                                                  index,\n                                                ),\n                                                ...currentEmoji.emoji.slice(\n                                                  index + 1,\n                                                ),\n                                              ],\n                                            },\n                                          }));\n                                        }\n                                      });\n                                    }}\n                                  >\n                                    <Icon\n                                      className={styles.imageAction}\n                                      type=\"delete\"\n                                      theme=\"outlined\"\n                                    />\n                                  </Popconfirm>\n                                );\n                              }}\n                            </Mutation>\n                          </div>\n                        </div>\n                        {this.isImg(emoji) ? (\n                          <img alt={emoji} src={`${EMOJI_URL}/${emoji}`} />\n                        ) : (\n                          <span>{emoji}</span>\n                        )}\n                      </div>\n                    );\n                  },\n                )}\n              </div>\n            </Drawer>\n            <Modal\n              onCancel={() => this.setState({ modalVisible: false })}\n              visible={this.state.modalVisible}\n              footer={null}\n              style={{ textAlign: 'center' }}\n            >\n              {this.isImg(this.state.currentImage) ? (\n                <img\n                  alt={this.state.currentImage}\n                  src={`${EMOJI_URL}/${this.state.currentImage}`}\n                />\n              ) : (\n                <span>{this.state.currentImage}</span>\n              )}\n            </Modal>\n          </Content>\n        )}\n      </Query>\n    );\n  }\n}\n","import React from 'react';\nimport { Layout, Input, Form, Button, Icon } from 'antd';\nimport useForm from 'rc-form-hooks';\nimport UserContext from '../../../context/UserContext';\nimport styles from './Login.module.less';\n\nconst { Content } = Layout;\n\nconst Login: React.FC = () => {\n  const { getFieldDecorator, validateFields } = useForm<{ token: string }>();\n  const { login } = UserContext.useContainer();\n  const handleLogin = async () => {\n    const values = await validateFields();\n    login(values.token);\n  };\n  return (\n    <Content>\n      <Form className={styles.loginForm}>\n        <Form.Item>\n          {getFieldDecorator('token')(\n            <Input\n              type=\"password\"\n              prefix={\n                <Icon\n                  onClick={handleLogin}\n                  style={{ cursor: 'default' }}\n                  type=\"lock\"\n                />\n              }\n            />,\n          )}\n        </Form.Item>\n        <Button type=\"primary\" block>\n          \n        </Button>\n      </Form>\n    </Content>\n  );\n};\n\nexport default Login;\n","import React from 'react';\nimport MissileTable from 'Components/MissileTable';\nimport { Layout } from 'antd';\nimport { useQuery } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport { MissileFragment } from 'fragments';\nimport Loading from 'Components/Loading';\nimport { Missile } from 'interfaces';\n\nconst { Content } = Layout;\n\nconst MissileList: React.FC = () => {\n  const { data, loading } = useQuery<{ Missiles: Missile[] }>(gql`\n    query {\n      Missiles {\n        ...missile\n      }\n    }\n    ${MissileFragment}\n  `);\n  return (\n    <Content className=\"container\">\n      <Loading spinning={loading}>\n        {data &&\n          data.Missiles.map((missile, index) => (\n            <MissileTable missile={missile} key={index} />\n          ))}\n      </Loading>\n    </Content>\n  );\n};\n\nexport default MissileList;\n","import React from 'react';\nimport { Row, Col } from 'antd';\nimport styles from './SkinList.module.less';\nimport { SKIN_ICO_URL } from 'consts';\nimport { Skin } from './types';\n\ninterface SkinItemProps {\n  skin: Skin;\n  showUnit: (index: number) => void;\n  style?: React.CSSProperties;\n}\n\nconst SkinListItem: React.FC<SkinItemProps> = ({\n  skin,\n  showUnit,\n  style,\n}) => {\n  return (\n    <div\n      style={styles}\n      className={styles.listCard}\n    >\n      <Row\n        type=\"flex\"\n        style={{ alignItems: 'center' }}\n        onClick={() => showUnit(skin.rowid)}\n      >\n        <Col md={2} xs={3}>\n          {skin.rowid}\n        </Col>\n        <Col md={2} xs={5}>\n          <img\n            src={`${SKIN_ICO_URL}/${skin.FaceId}.png`}\n            alt={skin.rowid.toString()}\n            height=\"48\"\n          />\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport default SkinListItem;\n","import gql from 'graphql-tag';\nimport { Skin } from '../SkinList/types';\nimport { DotFragment } from 'fragments';\n\nexport interface Data {\n  Skin: Skin;\n}\n\nexport const query = gql`\n  query ($id: Int!) {\n    Skin(rowid: $id) {\n      rowid\n      FaceId\n      FreeCondition\n      FaceId_RarityGroup01\n      FaceId_RarityGroup02\n      FaceId_RarityGroup03\n      FaceId_RarityGroup04\n      FaceId_RarityGroup05\n      FaceId_RarityGroup06\n      FaceId_RarityGroup08\n      Image\n      Illust\n      Dots {\n        ...Dot\n      }\n      Units {\n        ...{\n          cardID\n          name\n          rarity\n        }\n      }\n    }\n  }\n  ${DotFragment}\n`;\n","import React, { useEffect, useState } from 'react';\nimport { Button, Icon, Radio, Row, Col } from 'antd';\nimport _ from 'lodash';\nimport { Link } from 'react-router-dom';\nimport useRouter from 'use-react-router';\nimport {\n  SKIN_ICO_URL,\n  SKIN_CG_URL,\n  SKIN_DOT_URL,\n} from 'consts';\nimport styles from './Skin.module.less';\nimport { Data, query } from './types';\nimport Loading from 'Components/Loading';\nimport { useQuery } from '@apollo/react-hooks';\nimport DotTable from 'Components/DotTable';\nimport MediaContext from 'context/MediaContext';\nimport classNames from 'classnames';\n\nfunction getRarityName(rarity: number): string {\n  switch (rarity){\n    case 0: return '';\n    case 1: return '';\n    case 2: return '';\n    case 3: return '';\n    case 4:\n    case 10: return '';\n    case 5:\n    case 11: return '';\n    case 7: return '';\n    default: return rarity.toString();\n  }\n}\n\nconst SkinViewer: React.FC = () => {\n  const { match } = useRouter<{ SkinIndex: string }>();\n  const SkinIndex = Number.parseInt(match.params.SkinIndex, 10);\n\n  const [currentImg, setCurrentImg] = useState('');\n  const [currentText, setCurrentText] = useState<number>();\n\n  const { isTabletOrMobile } = MediaContext.useContainer();\n\n  const { loading, data } = useQuery<Data>(query, {\n    variables: { id: SkinIndex },\n    fetchPolicy: 'network-only',\n  });\n\n  useEffect(() => {\n    if (data?.Skin.Image?.[0]) {\n      setCurrentImg(data.Skin.Image[0]);\n    }\n  }, [data]);\n\n  return (\n    <div className={styles.container}>\n      <Loading spinning={loading}>\n        {data && !_.isEmpty(data) && (\n          <div>\n            <h1>: {data.Skin.rowid}</h1>\n            <div className={styles.previewContainer}>\n              <div\n                className={classNames(styles.outerRadioContainer, {\n                  [styles.inset]: !isTabletOrMobile,\n                })}\n              >\n                <div className={styles.radioContainer}>\n                  <Radio.Group\n                    onChange={(e) => setCurrentImg(e.target.value)}\n                    value={currentImg}\n                    className={styles.radioGroup}\n                  >\n                    {data.Skin.Image.map((imgName, index) => (\n                      <Radio.Button key={imgName} value={imgName}>\n                        \n                        {Number.parseInt(imgName[imgName.length - 5], 10) + 1}\n                      </Radio.Button>\n                    ))}\n                  </Radio.Group>\n                </div>\n              </div>\n              <div className={styles.outerImageContainer}>\n                <div className={styles.imageContainer}>\n                  {currentText !== undefined && (\n                    <div\n                      className={classNames(styles.textContainer, {\n                        [styles.fullScreen]: isTabletOrMobile,\n                      })}\n                    >\n                      <Button\n                        ghost\n                        shape=\"circle\"\n                        onClick={() => setCurrentText(undefined)}\n                        className={styles.closeButton}\n                      >\n                        <Icon type=\"close\" />\n                      </Button>\n                    </div>\n                  )}\n                  <img\n                    style={{ height: '100%' }}\n                    src={`${SKIN_CG_URL}/${currentImg}`}\n                    alt={currentImg.toString()}\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div><table className={styles.table}>\n              <thead><tr>\n                <td>free</td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n                <td></td>\n              </tr></thead>\n              <tbody><tr>\n                <td>{data.Skin.FreeCondition}</td>\n                <td><img src={`${SKIN_ICO_URL}/${data.Skin.FaceId_RarityGroup01}.png`} alt=\"Icon\" /></td>\n                <td><img src={`${SKIN_ICO_URL}/${data.Skin.FaceId_RarityGroup02}.png`} alt=\"Icon\" /></td>\n                <td><img src={`${SKIN_ICO_URL}/${data.Skin.FaceId_RarityGroup03}.png`} alt=\"Icon\" /></td>\n                <td><img src={`${SKIN_ICO_URL}/${data.Skin.FaceId_RarityGroup04}.png`} alt=\"Icon\" /></td>\n                <td><img src={`${SKIN_ICO_URL}/${data.Skin.FaceId_RarityGroup05}.png`} alt=\"Icon\" /></td>\n                <td><img src={`${SKIN_ICO_URL}/${data.Skin.FaceId_RarityGroup06}.png`} alt=\"Icon\" /></td>\n                <td><img src={`${SKIN_ICO_URL}/${data.Skin.FaceId_RarityGroup08}.png`} alt=\"Icon\" /></td>\n              </tr></tbody>\n            </table></div>\n\n            <div><table className={styles.table}>\n              <thead><tr>\n                <td>ID</td>\n                <td></td>\n                <td></td>\n              </tr></thead>\n              <tbody>\n                {data.Skin.Units && data.Skin.Units.map((unit, index) => (\n                  <tr key={index}>\n                  <td><Link to={`/unit/${unit.cardID}`}>{unit.cardID}</Link></td>\n                  <td>{unit.name}</td>\n                  <td>{getRarityName(unit.rarity)}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table></div>\n\n            {data.Skin.Dots && (\n              <div>\n                <h2></h2>\n                <Row gutter={8}>\n                  {data.Skin.Dots.map((dot, index) => (\n                    <Col key={index} sm={24} md={12}>\n                      <DotTable\n                        dot={dot}\n                        CardID={data.Skin.rowid}\n                        urlBase={SKIN_DOT_URL}\n                      />\n                    </Col>\n                  ))}\n                </Row>\n              </div>\n            )}\n          </div>\n        )}\n      </Loading>\n    </div>\n  );\n};\nexport default SkinViewer;\n","import React, { useState, useEffect } from 'react';\nimport { Layout, Row, Col, Icon, Drawer } from 'antd';\nimport { FixedSizeList as List } from 'react-window';\nimport gql from 'graphql-tag';\nimport useRouter from 'use-react-router';\nimport { useMediaQuery } from 'react-responsive';\nimport { Skin } from './types';\nimport SkinListItem from './SkinListItem';\nimport styles from './SkinList.module.less';\nimport Loading from '../../Loading';\nimport { useQuery } from '@apollo/react-hooks';\nimport SkinViewer from '../Skin';\n\nconst { Content } = Layout;\n\ninterface Data {\n  Skins: Skin[];\n}\n\ninterface Props {\n  data?: Data;\n  loading: boolean;\n}\n\nconst SkinList: React.FC<Props> = ({ data, loading }) => {\n  const [sorter, setSorter] = useState({ key: 'rowid', order: true });\n  // react-window\n  const [size, setSize] = useState({ width: 0, height: 0 });\n\n  const { match, history } = useRouter<{ SkinIndex: string }>();\n  const { SkinIndex } = match.params;\n\n  const isTabletOrMobile = useMediaQuery({ query: '(max-width: 991px)' });\n\n  useEffect(() => {\n    const main = document.getElementsByTagName('main')[0];\n    const handleResize = () => {\n      const width = main.offsetWidth - 60;\n      const height = main.offsetHeight - 150;\n      setSize({ width, height });\n    };\n    window.onresize = handleResize;\n    handleResize();\n    return () => {\n      window.onresize = null;\n    };\n  }, []);\n\n  // \n  const genSorter = (title: string, key: string) => {\n    return (\n      <div\n        style={{ cursor: 'pointer' }}\n        onClick={() =>\n          setSorter({ key, order: key === sorter.key ? !sorter.order : true })\n        }\n      >\n        {title}\n        {sorter.key === key && (\n          <Icon type={sorter.order ? 'caret-down' : 'caret-up'} />\n        )}\n      </div>\n    );\n  };\n\n  const showUnit = (index: number) => {\n    history.push({\n      pathname: `/skin/${index}`,\n      state: { modal: true },\n    });\n  };\n\n  const skinIdxSorter = (skinA: any, skinB: any) => {\n    const { key, order } = sorter;\n    return order ?\n      skinA.rowid - skinB.rowid\n      : skinB.rowid - skinA.rowid;\n  };\n\n  const skins = data?.Skins ? data.Skins.sort(skinIdxSorter) : [];\n\n  return (\n    <Content className={styles.unitListContent}>\n      <Row>\n        <Col md={4} xs={8}>\n          {genSorter('#', 'rowid')}\n        </Col>\n      </Row>\n      < div className={styles.listContainer}>\n      {!loading ? (\n        <List\n          height={size.height}\n          itemCount={skins.length}\n          itemSize={68}\n          width={size.width}\n        >\n          {({ index, style }) => (\n            <div key={skins[index].rowid} style={style}>\n            <SkinListItem\n              skin={skins[index]}\n              showUnit={showUnit}\n            />\n            </div>\n          )}\n        </List>\n      ) : (\n        <Loading />\n      )}\n      </div>\n      <Drawer\n        width={isTabletOrMobile ? '100%' : '80%'}\n        visible={!!SkinIndex}\n        destroyOnClose\n        onClose={() => history.push('/skin')}\n        getContainer={false}\n        style={{ position: 'absolute' }}\n      >\n        {SkinIndex && <SkinViewer />}\n      </Drawer>\n    </Content>\n  );\n};\n\nconst SkinListWrapper: React.FC = (props) => {\n  const { data, loading } = useQuery(\n    gql`\n      query {\n        Skins {\n          rowid\n          FaceId\n        }\n      }\n    `,\n  );\n  return <SkinList {...props} data={data} loading={loading} />;\n};\n\nexport default SkinListWrapper;\n","import React from 'react';\nimport { Layout } from 'antd';\nimport {\n  withRouter,\n  Switch,\n  Route,\n  RouteComponentProps,\n  Redirect,\n} from 'react-router-dom';\nimport UserContext from '../context/UserContext';\nimport Header from './Header';\n\nimport Home from './Routes/Home';\nimport UnitList from './Routes/UnitList';\nimport QuestList from './Routes/QuestList';\nimport ClassList from './Routes/ClassList';\nimport SkillList from './Routes/SkillList';\nimport AbilityList from './Routes/AbilityList';\nimport EmojiList from './Routes/EmojiList';\nimport Login from './Routes/Login';\nimport MissileList from './Routes/MissileList';\nimport SkinList from './Routes/SkinList';\n\nconst Router: React.FC<RouteComponentProps> = () => {\n  const { isLoggedIn } = UserContext.useContainer();\n\n  return !isLoggedIn ? (\n    <Switch>\n      <Route path=\"/\" exact component={Login} />\n      <Redirect to=\"/\" />\n    </Switch>\n  ) : (\n    <Layout>\n      <Header />\n      <Switch>\n        <Route path=\"/unit/:CardID\" component={UnitList} />\n        <Route path=\"/quest/:QuestID\" component={QuestList} />\n        <Route path=\"/skin/:SkinIndex\" component={SkinList} />\n        <Route path=\"/unit\" exact component={UnitList} />\n        <Route path=\"/quest\" exact component={QuestList} />\n        <Route path=\"/class\" exact component={ClassList} />\n        <Route path=\"/skill\" exact component={SkillList} />\n        <Route path=\"/ability\" exact component={AbilityList} />\n        <Route path=\"/missile\" exact component={MissileList} />\n        <Route path=\"/skin\" exact component={SkinList} />\n        <Route path=\"/emoji\" exact component={EmojiList} />\n        <Route component={Home} />\n      </Switch>\n    </Layout>\n  );\n};\n\nexport default withRouter(Router);\n","import { Layout } from 'antd';\nimport * as React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport ApolloClient from 'apollo-boost';\nimport { ApolloProvider } from '@apollo/react-hooks';\nimport { ConfigProvider } from 'antd';\nimport zhCN from 'antd/lib/locale-provider/zh_CN';\nimport moment from 'moment';\nimport 'moment/locale/zh-cn';\nimport './App.less';\nimport UserContext from './context/UserContext';\nimport MediaContext from './context/MediaContext';\nimport Router from './Components/Router';\nimport { API_URL } from './consts';\n\nmoment.locale('zh-cn');\n\nconst client = new ApolloClient({\n  uri: API_URL,\n});\n\nclass App extends React.Component {\n  public render() {\n    return (\n      <HashRouter>\n        <ConfigProvider locale={zhCN}>\n          <ApolloProvider client={client}>\n            <UserContext.Provider>\n              <MediaContext.Provider>\n                <Layout className=\"App\" style={{ height: '100%' }}>\n                  <Router />\n                </Layout>\n              </MediaContext.Provider>\n            </UserContext.Provider>\n          </ApolloProvider>\n        </ConfigProvider>\n      </HashRouter>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href,\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.less';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root') as HTMLElement);\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"table--2pSVY\",\"th\":\"th--4QcZQ\",\"compact\":\"compact--KejKw\",\"fakeInput\":\"fakeInput--1oekV\",\"small\":\"small--2qJ72\",\"configRowGroup\":\"configRowGroup--XqgPb\",\"cover\":\"cover--2c358\",\"blank\":\"blank--1JIcu\",\"container\":\"container--lot5Q\",\"previewContainer\":\"previewContainer--3lwoF\",\"outerRadioContainer\":\"outerRadioContainer--V6hBR\",\"inset\":\"inset--2XXQY\",\"radioContainer\":\"radioContainer--34tQ2\",\"radioGroup\":\"radioGroup--109Us\",\"danger\":\"danger--qqanE\",\"outerImageContainer\":\"outerImageContainer--2cjon\",\"imageContainer\":\"imageContainer--157DM\",\"textContainer\":\"textContainer--326Ju\",\"fullScreen\":\"fullScreen--1wpLR\",\"closeButton\":\"closeButton--d9wlE\",\"text\":\"text--2MpSd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"unitRaritySider\":\"unitRaritySider--2gItA\",\"unitRarityMenu\":\"unitRarityMenu--8Qf5n\",\"unitListContent\":\"unitListContent--36QQ2\",\"sider\":\"sider--2tJQ0\",\"filterContainer\":\"filterContainer--2VKib\",\"sorterBlock\":\"sorterBlock--KBZMT\",\"shadow\":\"shadow--1W6Jm\",\"listContainer\":\"listContainer--1bWDn\",\"listCard\":\"listCard--1Bay0\",\"male\":\"male--3nLop\",\"female\":\"female--29QGQ\",\"disable\":\"disable--qpu_p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"table--1QcJH\",\"th\":\"th--3CrBB\",\"compact\":\"compact--3SGrW\",\"fakeInput\":\"fakeInput--3aD2y\",\"small\":\"small--1VTBK\",\"configRowGroup\":\"configRowGroup--d5o5P\",\"cover\":\"cover--13igz\",\"blank\":\"blank--2JweT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"deleteIconContainer\":\"deleteIconContainer--Ka13J\",\"deleteIcon\":\"deleteIcon--396xM\",\"imageContainer\":\"imageContainer--chkYQ\",\"imageBox\":\"imageBox--10DU5\",\"imageCover\":\"imageCover--NtOwb\",\"imageActionContainer\":\"imageActionContainer--rumP3\",\"imageAction\":\"imageAction--2P1vd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"table--1DsAt\",\"th\":\"th--3vyLs\",\"compact\":\"compact--2S6H2\",\"fakeInput\":\"fakeInput--jubeu\",\"small\":\"small--1dBT3\",\"configRowGroup\":\"configRowGroup--apZj4\",\"cover\":\"cover--9KBzK\",\"blank\":\"blank--2HgyH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"table--IF6EY\",\"th\":\"th--iDq9c\",\"compact\":\"compact--RLpAq\",\"fakeInput\":\"fakeInput--1xECD\",\"small\":\"small--37kJo\",\"configRowGroup\":\"configRowGroup--3kYfU\",\"cover\":\"cover--2NLeO\",\"blank\":\"blank--10o5W\"};"],"sourceRoot":""}